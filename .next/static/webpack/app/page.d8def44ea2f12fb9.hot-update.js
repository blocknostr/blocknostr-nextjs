"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home),\n/* harmony export */   formatNostrAddresses: () => (/* binding */ formatNostrAddresses)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _hooks_useNostr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/useNostr */ \"(app-pages-browser)/./src/hooks/useNostr.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_utils_link_preview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils/link-preview */ \"(app-pages-browser)/./src/lib/utils/link-preview.ts\");\n/* harmony import */ var _components_chat_ChatBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/chat/ChatBox */ \"(app-pages-browser)/./src/components/chat/ChatBox.tsx\");\n/* harmony import */ var _components_feed_CreatePost__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/feed/CreatePost */ \"(app-pages-browser)/./src/components/feed/CreatePost.tsx\");\n/* harmony import */ var _components_shared_ErrorMessage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/shared/ErrorMessage */ \"(app-pages-browser)/./src/components/shared/ErrorMessage.tsx\");\n/* harmony import */ var _components_shared_MediaPlayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/shared/MediaPlayer */ \"(app-pages-browser)/./src/components/shared/MediaPlayer.tsx\");\n/* harmony import */ var _lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/nostr/relay */ \"(app-pages-browser)/./src/lib/nostr/relay.ts\");\n/* harmony import */ var nostr_tools__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! nostr-tools */ \"(app-pages-browser)/../node_modules/nostr-tools/lib/esm/index.js\");\n/* harmony import */ var _app_profile_page__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/app/profile/page */ \"(app-pages-browser)/./src/app/profile/page.tsx\");\n/* harmony import */ var _app_explore_page__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/app/explore/page */ \"(app-pages-browser)/./src/app/explore/page.tsx\");\n/* harmony import */ var _app_wallet_page__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/app/wallet/page */ \"(app-pages-browser)/./src/app/wallet/page.tsx\");\n/* harmony import */ var _app_chat_page__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/app/chat/page */ \"(app-pages-browser)/./src/app/chat/page.tsx\");\n/* harmony import */ var _components_layout_Sidebar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/components/layout/Sidebar */ \"(app-pages-browser)/./src/components/layout/Sidebar.tsx\");\n/* harmony import */ var _components_layout_RightSidebar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/layout/RightSidebar */ \"(app-pages-browser)/./src/components/layout/RightSidebar.tsx\");\n/* __next_internal_client_entry_do_not_use__ formatNostrAddresses,default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction relativeTime(timestamp) {\n    const now = Date.now();\n    const diff = Math.floor((now - (timestamp * 1000 || timestamp)) / 1000);\n    if (diff < 60) return \"\".concat(diff, \"s ago\");\n    if (diff < 3600) return \"\".concat(Math.floor(diff / 60), \"m ago\");\n    if (diff < 86400) return \"\".concat(Math.floor(diff / 3600), \"h ago\");\n    return new Date(timestamp * 1000 || timestamp).toLocaleDateString();\n}\nfunction renderLinkPreview(preview) {\n    return(// Replace inline style with Tailwind for anchor\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n        href: preview.url,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"block rounded-xl border border-gray-800 bg-gray-950 hover:bg-gray-900 transition shadow flex gap-4 p-4 mt-2 max-w-xl no-underline\",\n        children: [\n            preview.image && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                src: preview.image,\n                alt: preview.title || preview.url,\n                className: \"w-24 h-24 object-cover rounded-lg border border-gray-800 bg-black flex-shrink-0\"\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                lineNumber: 44,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col min-w-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-base font-semibold text-white truncate\",\n                        children: preview.title || preview.url\n                    }, void 0, false, {\n                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this),\n                    preview.siteName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-400 mb-1 truncate flex items-center gap-1\",\n                        children: [\n                            preview.favicon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: preview.favicon,\n                                alt: \"favicon\",\n                                className: \"inline w-4 h-4 mr-1 align-middle rounded\"\n                            }, void 0, false, {\n                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                lineNumber: 54,\n                                columnNumber: 33\n                            }, this),\n                            \" \",\n                            preview.siteName\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                        lineNumber: 53,\n                        columnNumber: 11\n                    }, this),\n                    preview.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-gray-300 truncate\",\n                        children: preview.description\n                    }, void 0, false, {\n                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-blue-400 truncate mt-1\",\n                        children: preview.url\n                    }, void 0, false, {\n                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n        lineNumber: 37,\n        columnNumber: 5\n    }, this));\n}\n// Utility to format NOSTR addresses in text\nfunction formatNostrAddresses(text) {\n    // Regex for hex pubkey (64 hex chars) and npub1... bech32 NOSTR addresses\n    const nostrRegex = /(npub1[0-9a-z]{59}|[a-f0-9]{64})/gi;\n    return text.split(nostrRegex).map((part, i)=>{\n        if (part.match(nostrRegex)) {\n            return part; // No special formatting or linking\n        }\n        return part;\n    });\n}\n// Helper for advanced relay queries (like likes, reposts, hashtag search)\nasync function queryRelayEvents(filter) {\n    const { healthyRelays } = await (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.getHealthyRelays)();\n    const pool = new nostr_tools__WEBPACK_IMPORTED_MODULE_15__.SimplePool();\n    try {\n        return await pool.querySync(healthyRelays, filter);\n    } finally{\n        pool.close(healthyRelays);\n    }\n}\nfunction Home() {\n    _s();\n    var _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n    const { pubkey, events, error, login, fetchEvents, post, followUser, unfollowUser, isFollowing, relayStats } = (0,_hooks_useNostr__WEBPACK_IMPORTED_MODULE_1__.useNostr)();\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [linkPreviews, setLinkPreviews] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [activeChatPostId, setActiveChatPostId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [closingChatId, setClosingChatId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [chatCounts, setChatCounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [isLoadingMore, setIsLoadingMore] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [hasMore, setHasMore] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [retryCount, setRetryCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [profilePaneOpen, setProfilePaneOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [searchFocused, setSearchFocused] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [hashtag, setHashtag] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [hashtagResults, setHashtagResults] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [filterTag, setFilterTag] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [showFilter, setShowFilter] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showFullProfile, setShowFullProfile] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const searchTimeout = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const observerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const lastPostRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const globalPostCount = useGlobalNostrPostCount();\n    const [likeCounts, setLikeCounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [likedPosts, setLikedPosts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [repostCounts, setRepostCounts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [repostedPosts, setRepostedPosts] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [lightboxMedia, setLightboxMedia] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loadingStats, setLoadingStats] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [activePane, setActivePane] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [sidePaneComponent, setSidePaneComponent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [profilePanePubkey, setProfilePanePubkey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Handle sidebar navigation\n    const handleNav = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Home.useCallback[handleNav]\": (key)=>{\n            if (activePane === key) {\n                setActivePane(null);\n                setSidePaneComponent(null);\n                return;\n            }\n            if (key === \"profile\") {\n                if (!pubkey) {\n                    alert(\"Please log in to view your profile.\");\n                    return;\n                }\n                setProfilePanePubkey(pubkey);\n                setActivePane(\"profile\");\n                setSidePaneComponent(null);\n            } else if (key === \"post\") {\n                setActivePane(\"post\");\n                setSidePaneComponent(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 text-white\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-bold mb-4\",\n                            children: \"Create a New Post\"\n                        }, void 0, false, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 142,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_feed_CreatePost__WEBPACK_IMPORTED_MODULE_5__.CreatePost, {\n                            onSubmit: {\n                                \"Home.useCallback[handleNav]\": async (content)=>{\n                                    await post(content);\n                                    alert(\"Post created successfully!\");\n                                    setActivePane(null);\n                                    setSidePaneComponent(null);\n                                }\n                            }[\"Home.useCallback[handleNav]\"],\n                            isLoggedIn: !!pubkey,\n                            onLogin: login\n                        }, void 0, false, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 143,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 141,\n                    columnNumber: 9\n                }, this));\n                return;\n            } else {\n                setActivePane(key);\n                setSidePaneComponent(null);\n            }\n        }\n    }[\"Home.useCallback[handleNav]\"], [\n        activePane,\n        pubkey\n    ]);\n    // Search logic: filter all known profiles by displayName, username, or pubkey\n    const allProfiles = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"Home.useMemo[allProfiles]\": ()=>{\n            const seen = new Set();\n            return events.map({\n                \"Home.useMemo[allProfiles]\": (ev)=>ev.profile || {\n                        pubkey: ev.pubkey\n                    }\n            }[\"Home.useMemo[allProfiles]\"]).filter({\n                \"Home.useMemo[allProfiles]\": (p)=>{\n                    if (!p.pubkey || seen.has(p.pubkey)) return false;\n                    seen.add(p.pubkey);\n                    return true;\n                }\n            }[\"Home.useMemo[allProfiles]\"]);\n        }\n    }[\"Home.useMemo[allProfiles]\"], [\n        events\n    ]);\n    // Debounced search\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            if (searchTimeout.current) clearTimeout(searchTimeout.current);\n            if (!search.trim()) {\n                setSearchResults([]);\n                return;\n            }\n            searchTimeout.current = setTimeout({\n                \"Home.useEffect\": ()=>{\n                    const q = search.trim().toLowerCase();\n                    const results = allProfiles.filter({\n                        \"Home.useEffect.results\": (p)=>p.display_name && p.display_name.toLowerCase().includes(q) || p.username && p.username.toLowerCase().includes(q) || p.pubkey && p.pubkey.toLowerCase().includes(q)\n                    }[\"Home.useEffect.results\"]).slice(0, 10); // Top 10\n                    setSearchResults(results);\n                }\n            }[\"Home.useEffect\"], 150);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"Home.useEffect\"], [\n        search,\n        allProfiles\n    ]);\n    // Close dropdown on outside click\n    const searchRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            function handleClick(e) {\n                if (searchRef.current && !searchRef.current.contains(e.target)) {\n                    setSearchFocused(false);\n                }\n            }\n            if (searchFocused) document.addEventListener(\"mousedown\", handleClick);\n            return ({\n                \"Home.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClick)\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        searchFocused\n    ]);\n    // Handle infinite scrolling\n    const handleObserver = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Home.useCallback[handleObserver]\": (entries)=>{\n            const target = entries[0];\n            if (target.isIntersecting && !isLoadingMore && hasMore) {\n                const oldestEvent = events[events.length - 1];\n                if (oldestEvent) {\n                    setIsLoadingMore(true);\n                    fetchEvents({\n                        until: oldestEvent.created_at\n                    }).then({\n                        \"Home.useCallback[handleObserver]\": (hasNewEvents)=>{\n                            setHasMore(hasNewEvents);\n                            setIsLoadingMore(false);\n                            setRetryCount(0); // Reset retry count on successful fetch\n                        }\n                    }[\"Home.useCallback[handleObserver]\"]).catch({\n                        \"Home.useCallback[handleObserver]\": ()=>{\n                            setIsLoadingMore(false);\n                            setRetryCount({\n                                \"Home.useCallback[handleObserver]\": (prev)=>prev + 1\n                            }[\"Home.useCallback[handleObserver]\"]);\n                        }\n                    }[\"Home.useCallback[handleObserver]\"]);\n                }\n            }\n        }\n    }[\"Home.useCallback[handleObserver]\"], [\n        events,\n        fetchEvents,\n        isLoadingMore,\n        hasMore\n    ]);\n    // Setup intersection observer\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            if (lastPostRef.current && !observerRef.current) {\n                observerRef.current = new IntersectionObserver(handleObserver, {\n                    root: null,\n                    rootMargin: \"100px\",\n                    threshold: 0.1\n                });\n            }\n            if (lastPostRef.current) {\n                var _observerRef_current;\n                (_observerRef_current = observerRef.current) === null || _observerRef_current === void 0 ? void 0 : _observerRef_current.observe(lastPostRef.current);\n            }\n            return ({\n                \"Home.useEffect\": ()=>{\n                    var _observerRef_current;\n                    (_observerRef_current = observerRef.current) === null || _observerRef_current === void 0 ? void 0 : _observerRef_current.disconnect();\n                }\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        handleObserver\n    ]);\n    // Handle chat closing with animation\n    const handleChatClose = (postId)=>{\n        setClosingChatId(postId);\n        setTimeout(()=>{\n            setActiveChatPostId(null);\n            setClosingChatId(null);\n        }, 300);\n    };\n    // Initial fetch\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            // 1. Fetch a small batch for fast initial render\n            fetchEvents().then({\n                \"Home.useEffect\": ()=>{\n                    // 2. In the background, fetch more posts and append\n                    setTimeout({\n                        \"Home.useEffect\": ()=>{\n                            if (events.length > 0) {\n                                const oldest = events[events.length - 1];\n                                if (oldest) {\n                                    fetchEvents({\n                                        until: oldest.created_at,\n                                        limit: 40\n                                    });\n                                }\n                            }\n                        }\n                    }[\"Home.useEffect\"], 100); // slight delay to allow first render\n                }\n            }[\"Home.useEffect\"]);\n            // Live polling every 30 seconds for new posts\n            const interval = setInterval({\n                \"Home.useEffect.interval\": ()=>{\n                    fetchEvents();\n                }\n            }[\"Home.useEffect.interval\"], 30000);\n            return ({\n                \"Home.useEffect\": ()=>clearInterval(interval)\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        fetchEvents\n    ]);\n    // Fetch link previews for all unique links in events\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            const allLinks = Array.from(new Set(events.flatMap({\n                \"Home.useEffect.allLinks\": (ev)=>(ev.media || []).filter({\n                        \"Home.useEffect.allLinks\": (url)=>!url.match(/\\.(jpeg|jpg|gif|png|mp4|webm)$/i)\n                    }[\"Home.useEffect.allLinks\"])\n            }[\"Home.useEffect.allLinks\"])));\n            allLinks.forEach({\n                \"Home.useEffect\": async (url)=>{\n                    if (!linkPreviews[url]) {\n                        const preview = await (0,_lib_utils_link_preview__WEBPACK_IMPORTED_MODULE_3__.fetchLinkPreview)(url);\n                        setLinkPreviews({\n                            \"Home.useEffect\": (prev)=>({\n                                    ...prev,\n                                    [url]: preview\n                                })\n                        }[\"Home.useEffect\"]);\n                    }\n                }\n            }[\"Home.useEffect\"]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"Home.useEffect\"], [\n        events\n    ]);\n    // Enhanced hashtag extraction\n    const extractHashtags = (event)=>{\n        // 1. From content: #hashtag, #hash_tag, #hash123, Unicode, and quoted hashtags\n        const contentTags = Array.from(new Set([\n            // Standard hashtags (letters, numbers, underscores, Unicode)\n            ...(event.content.match(RegExp(\"#([\\\\p{L}\\\\p{N}_-]{2,50})\", \"gu\")) || []).map((h)=>h.slice(1).toLowerCase()),\n            // Quoted hashtags: \"#hashtag\"\n            ...(event.content.match(RegExp('\"#([\\\\p{L}\\\\p{N}_-]{2,50})\"', \"gu\")) || []).map((h)=>h.replace(/\"/g, '').slice(1).toLowerCase()),\n            // Hashtags in URLs (e.g., https://.../#hashtag)\n            ...(event.content.match(RegExp(\"\\\\/#([\\\\p{L}\\\\p{N}_-]{2,50})\", \"gu\")) || []).map((h)=>h.replace('/#', '').toLowerCase())\n        ]));\n        // 2. From tags array: all tag types with a value that looks like a hashtag\n        const tagTags = (event.tags || []).filter((t)=>t[1] && RegExp(\"^([\\\\p{L}\\\\p{N}_-]{2,50})$\", \"u\").test(t[1])).map((t)=>t[1].toLowerCase());\n        return Array.from(new Set([\n            ...contentTags,\n            ...tagTags\n        ]));\n    };\n    // Memoized map of postId -> hashtags\n    const eventHashtagsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)({});\n    const eventHashtags = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"Home.useMemo[eventHashtags]\": ()=>{\n            if (!events.length) return eventHashtagsRef.current;\n            const map = {};\n            events.forEach({\n                \"Home.useMemo[eventHashtags]\": (ev)=>{\n                    map[ev.id] = extractHashtags(ev);\n                }\n            }[\"Home.useMemo[eventHashtags]\"]);\n            eventHashtagsRef.current = map;\n            return map;\n        }\n    }[\"Home.useMemo[eventHashtags]\"], [\n        events\n    ]);\n    // Hashtag search (NIP-12)\n    const searchHashtag = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Home.useCallback[searchHashtag]\": async (tag)=>{\n            setHashtag(tag);\n            setHashtagResults([]);\n            setSearch(\"\");\n            setSearchResults([]);\n            // NIP-12 filter\n            const filter = {\n                kinds: [\n                    1\n                ],\n                \"#t\": [\n                    tag.toLowerCase()\n                ],\n                limit: 50\n            };\n            const posts = await queryRelayEvents(filter);\n            setHashtagResults(posts || []);\n        }\n    }[\"Home.useCallback[searchHashtag]\"], []);\n    // Render hashtags for a post\n    function renderHashtags(ev) {\n        const tags = eventHashtags[ev.id] || [];\n        if (!tags.length) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-wrap gap-2 mt-2\",\n            children: tags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"text-blue-400 hover:underline bg-blue-900/20 rounded px-2 py-0.5 text-xs font-mono\",\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                        searchHashtag(tag);\n                    },\n                    children: [\n                        \"#\",\n                        tag\n                    ]\n                }, tag, true, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 344,\n                    columnNumber: 11\n                }, this))\n        }, void 0, false, {\n            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n            lineNumber: 342,\n            columnNumber: 7\n        }, this);\n    }\n    // Enhanced filter: filter posts by tag\n    const filteredEvents = (hashtagResults.length > 0 ? hashtagResults : events).filter((ev)=>{\n        if (!filterTag) return true;\n        // Check if event content or tags include the filterTag\n        const tagMatch = ev.content && ev.content.toLowerCase().includes(filterTag.toLowerCase());\n        const tagArray = (ev.tags || []).map((t)=>{\n            var _t__toLowerCase, _t_;\n            return ((_t_ = t[1]) === null || _t_ === void 0 ? void 0 : (_t__toLowerCase = _t_.toLowerCase) === null || _t__toLowerCase === void 0 ? void 0 : _t__toLowerCase.call(_t_)) || \"\";\n        });\n        return tagMatch || tagArray.includes(filterTag.toLowerCase());\n    });\n    // Trending hashtags calculation\n    const trendingHashtags = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"Home.useMemo[trendingHashtags]\": ()=>{\n            const tagCounts = {};\n            events.forEach({\n                \"Home.useMemo[trendingHashtags]\": (ev)=>{\n                    const tags = eventHashtags[ev.id] || [];\n                    tags.forEach({\n                        \"Home.useMemo[trendingHashtags]\": (tag)=>{\n                            tagCounts[tag] = (tagCounts[tag] || 0) + 1;\n                        }\n                    }[\"Home.useMemo[trendingHashtags]\"]);\n                }\n            }[\"Home.useMemo[trendingHashtags]\"]);\n            // Sort by frequency, descending\n            return Object.entries(tagCounts).sort({\n                \"Home.useMemo[trendingHashtags]\": (a, b)=>b[1] - a[1]\n            }[\"Home.useMemo[trendingHashtags]\"]).slice(0, 10);\n        }\n    }[\"Home.useMemo[trendingHashtags]\"], [\n        events,\n        eventHashtags\n    ]);\n    // Fetch like counts for visible posts\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            let isMounted = true;\n            ({\n                \"Home.useEffect\": async ()=>{\n                    const postIds = filteredEvents.map({\n                        \"Home.useEffect.postIds\": (ev)=>ev.id\n                    }[\"Home.useEffect.postIds\"]);\n                    if (postIds.length === 0) return;\n                    // Query for kind 7 (like) events referencing these posts\n                    const likeEvents = await queryRelayEvents({\n                        kinds: [\n                            7\n                        ],\n                        '#e': postIds,\n                        limit: 1000\n                    });\n                    if (!isMounted) return;\n                    // Count likes per post\n                    const counts = {};\n                    const liked = {};\n                    likeEvents === null || likeEvents === void 0 ? void 0 : likeEvents.forEach({\n                        \"Home.useEffect\": (ev)=>{\n                            const refId = (ev.tags.find({\n                                \"Home.useEffect\": (t)=>t[0] === 'e'\n                            }[\"Home.useEffect\"]) || [])[1];\n                            if (refId) {\n                                counts[refId] = (counts[refId] || 0) + 1;\n                                if (ev.pubkey === pubkey) liked[refId] = true;\n                            }\n                        }\n                    }[\"Home.useEffect\"]);\n                    setLikeCounts(counts);\n                    setLikedPosts(liked);\n                }\n            })[\"Home.useEffect\"]();\n            return ({\n                \"Home.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        filteredEvents,\n        pubkey\n    ]);\n    // Like a post (publish kind 7 event)\n    const handleLike = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Home.useCallback[handleLike]\": async (postId, postPubkey)=>{\n            if (!pubkey || !window.nostr) return;\n            // Optimistically update UI\n            setLikeCounts({\n                \"Home.useCallback[handleLike]\": (prev)=>({\n                        ...prev,\n                        [postId]: (prev[postId] || 0) + 1\n                    })\n            }[\"Home.useCallback[handleLike]\"]);\n            setLikedPosts({\n                \"Home.useCallback[handleLike]\": (prev)=>({\n                        ...prev,\n                        [postId]: true\n                    })\n            }[\"Home.useCallback[handleLike]\"]);\n            // Build like event\n            const event = {\n                kind: 7,\n                pubkey,\n                created_at: Math.floor(Date.now() / 1000),\n                tags: [\n                    [\n                        \"e\",\n                        postId\n                    ],\n                    [\n                        \"p\",\n                        postPubkey\n                    ]\n                ],\n                content: \"+\",\n                sig: \"\"\n            };\n            // Sign and publish\n            try {\n                const signed = await window.nostr.signEvent(event);\n            // TODO: Publish signed event to relay\n            } catch (err) {\n                // Rollback optimistic update on error\n                setLikeCounts({\n                    \"Home.useCallback[handleLike]\": (prev)=>({\n                            ...prev,\n                            [postId]: Math.max((prev[postId] || 1) - 1, 0)\n                        })\n                }[\"Home.useCallback[handleLike]\"]);\n                setLikedPosts({\n                    \"Home.useCallback[handleLike]\": (prev)=>({\n                            ...prev,\n                            [postId]: false\n                        })\n                }[\"Home.useCallback[handleLike]\"]);\n            }\n        }\n    }[\"Home.useCallback[handleLike]\"], [\n        pubkey\n    ]);\n    // Fetch repost counts for visible posts\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            let isMounted = true;\n            ({\n                \"Home.useEffect\": async ()=>{\n                    const postIds = filteredEvents.map({\n                        \"Home.useEffect.postIds\": (ev)=>ev.id\n                    }[\"Home.useEffect.postIds\"]);\n                    if (postIds.length === 0) return;\n                    // Query for kind 6 (repost) events referencing these posts\n                    const repostEvents = await queryRelayEvents({\n                        kinds: [\n                            6\n                        ],\n                        '#e': postIds,\n                        limit: 1000\n                    });\n                    if (!isMounted) return;\n                    // Count reposts per post\n                    const counts = {};\n                    const reposted = {};\n                    repostEvents === null || repostEvents === void 0 ? void 0 : repostEvents.forEach({\n                        \"Home.useEffect\": (ev)=>{\n                            const refId = (ev.tags.find({\n                                \"Home.useEffect\": (t)=>t[0] === 'e'\n                            }[\"Home.useEffect\"]) || [])[1];\n                            if (refId) {\n                                counts[refId] = (counts[refId] || 0) + 1;\n                                if (ev.pubkey === pubkey) reposted[refId] = true;\n                            }\n                        }\n                    }[\"Home.useEffect\"]);\n                    setRepostCounts(counts);\n                    setRepostedPosts(reposted);\n                }\n            })[\"Home.useEffect\"]();\n            return ({\n                \"Home.useEffect\": ()=>{\n                    isMounted = false;\n                }\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], [\n        filteredEvents,\n        pubkey\n    ]);\n    // Repost a post (publish kind 6 event)\n    const handleRepost = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"Home.useCallback[handleRepost]\": async (postId, postPubkey, postContent)=>{\n            if (!pubkey || !window.nostr) return;\n            // Optimistically update UI\n            setRepostCounts({\n                \"Home.useCallback[handleRepost]\": (prev)=>({\n                        ...prev,\n                        [postId]: (prev[postId] || 0) + 1\n                    })\n            }[\"Home.useCallback[handleRepost]\"]);\n            setRepostedPosts({\n                \"Home.useCallback[handleRepost]\": (prev)=>({\n                        ...prev,\n                        [postId]: true\n                    })\n            }[\"Home.useCallback[handleRepost]\"]);\n            // Build repost event\n            const event = {\n                kind: 6,\n                pubkey,\n                created_at: Math.floor(Date.now() / 1000),\n                tags: [\n                    [\n                        \"e\",\n                        postId\n                    ],\n                    [\n                        \"p\",\n                        postPubkey\n                    ]\n                ],\n                content: postContent,\n                sig: \"\"\n            };\n            // Sign and publish\n            try {\n                const signed = await window.nostr.signEvent(event);\n            // TODO: Publish signed event to relay\n            } catch (err) {\n                // Rollback optimistic update on error\n                setRepostCounts({\n                    \"Home.useCallback[handleRepost]\": (prev)=>({\n                            ...prev,\n                            [postId]: Math.max((prev[postId] || 1) - 1, 0)\n                        })\n                }[\"Home.useCallback[handleRepost]\"]);\n                setRepostedPosts({\n                    \"Home.useCallback[handleRepost]\": (prev)=>({\n                            ...prev,\n                            [postId]: false\n                        })\n                }[\"Home.useCallback[handleRepost]\"]);\n            }\n        }\n    }[\"Home.useCallback[handleRepost]\"], [\n        pubkey\n    ]);\n    // Update renderMediaWithPreview to accept setLightboxMedia as a prop\n    function renderMediaWithPreview(media, linkPreviews, setLightboxMedia) {\n        if (!media || media.length === 0) return null;\n        const images = media.filter((url)=>url.match(/\\.(jpeg|jpg|gif|png)$/i));\n        // Detect YouTube and SoundCloud links\n        const youTubeRegex = /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)[\\w-]+/i;\n        const soundCloudRegex = /soundcloud\\.com\\//i;\n        const videos = media.filter((url)=>url.match(/\\.(mp4|webm)$/i) || youTubeRegex.test(url));\n        const audios = media.filter((url)=>url.match(/\\.(mp3|wav|ogg)$/i) || soundCloudRegex.test(url));\n        const mediaSet = new Set([\n            ...images,\n            ...videos,\n            ...audios\n        ]);\n        const links = media.filter((url)=>!mediaSet.has(url) && !url.match(/\\.(jpeg|jpg|gif|png|mp4|webm|mp3|wav|ogg)$/i) && !youTubeRegex.test(url) && !soundCloudRegex.test(url));\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col gap-2 mt-2\",\n            children: [\n                images.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid gap-2 \".concat(images.length === 1 ? \"grid-cols-1\" : images.length === 2 ? \"grid-cols-2\" : \"grid-cols-2\"),\n                    children: images.slice(0, 4).map((url, idx)=>// Replace inline style with Tailwind for image\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: url,\n                            alt: \"media\",\n                            className: \"rounded-xl object-cover border border-gray-800 bg-black w-full h-60 cursor-pointer aspect-square object-cover\",\n                            onClick: (e)=>{\n                                e.stopPropagation();\n                                setLightboxMedia(url);\n                            }\n                        }, idx, false, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 505,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 502,\n                    columnNumber: 11\n                }, this),\n                (videos.length > 0 || audios.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-2\",\n                    children: [\n                        ...videos,\n                        ...audios\n                    ].map((url, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_MediaPlayer__WEBPACK_IMPORTED_MODULE_7__.MediaPlayer, {\n                                    url: url,\n                                    className: \"rounded-xl border border-gray-800 bg-black w-full shadow-lg\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                    lineNumber: 519,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded\",\n                                    children: url.match(/\\.(mp4|webm)$/i) || youTubeRegex.test(url) ? \"Video\" : \"Audio\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                    lineNumber: 520,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 518,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 516,\n                    columnNumber: 11\n                }, this),\n                links.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-2\",\n                    children: links.map((url, idx)=>linkPreviews[url] ? linkPreviews[url] && renderLinkPreview(linkPreviews[url]) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: url,\n                            target: \"_blank\",\n                            rel: \"noopener noreferrer\",\n                            className: \"text-blue-400 underline break-all hover:text-blue-300\",\n                            children: url\n                        }, idx, false, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 533,\n                            columnNumber: 17\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 528,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n            lineNumber: 500,\n            columnNumber: 7\n        }, this);\n    }\n    function ProfileDropdown(param) {\n        let { children, menu } = param;\n        _s1();\n        const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n        const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n        // Close dropdown on outside click\n        (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n            \"Home.ProfileDropdown.useEffect\": ()=>{\n                function handleClick(e) {\n                    if (ref.current && !ref.current.contains(e.target)) setOpen(false);\n                }\n                if (open) document.addEventListener(\"mousedown\", handleClick);\n                return ({\n                    \"Home.ProfileDropdown.useEffect\": ()=>document.removeEventListener(\"mousedown\", handleClick)\n                })[\"Home.ProfileDropdown.useEffect\"];\n            }\n        }[\"Home.ProfileDropdown.useEffect\"], [\n            open\n        ]);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative\",\n            ref: ref,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    onClick: ()=>setOpen((v)=>!v),\n                    className: \"cursor-pointer\",\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 564,\n                    columnNumber: 9\n                }, this),\n                open && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute left-0 mt-2 z-20 bg-gray-900 border border-gray-800 rounded-xl shadow-lg min-w-[120px] p-2 flex flex-col\",\n                    children: menu\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 568,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n            lineNumber: 562,\n            columnNumber: 7\n        }, this);\n    }\n    _s1(ProfileDropdown, \"wl9VvfhnMVWQ+kCekFjcRPEi3/0=\");\n    function useGlobalNostrPostCount() {\n        _s2();\n        const [totalCount, setTotalCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n        (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n            \"Home.useGlobalNostrPostCount.useEffect\": ()=>{\n                const fetchCount = {\n                    \"Home.useGlobalNostrPostCount.useEffect.fetchCount\": async ()=>{\n                        try {\n                            // Get healthy relays\n                            const { healthyRelays } = await (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.getHealthyRelays)();\n                            // Fetch a large number of events and deduplicate by id for an estimate\n                            const result = await (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.fetchNostrFeed)(healthyRelays, {\n                                limit: 1000\n                            });\n                            // Deduplicate by event id\n                            const uniqueIds = new Set((result || []).map({\n                                \"Home.useGlobalNostrPostCount.useEffect.fetchCount\": (ev)=>ev.id\n                            }[\"Home.useGlobalNostrPostCount.useEffect.fetchCount\"]));\n                            setTotalCount(uniqueIds.size);\n                        } catch (e) {\n                            setTotalCount(null);\n                        }\n                    }\n                }[\"Home.useGlobalNostrPostCount.useEffect.fetchCount\"];\n                fetchCount();\n            }\n        }[\"Home.useGlobalNostrPostCount.useEffect\"], []);\n        return totalCount;\n    }\n    _s2(useGlobalNostrPostCount, \"nvnM//iRfr/MB+ZM6fF8BsMZLbs=\");\n    // Fetch NOSTR Band stats on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            // Remove fetchNostrBandStats usage or replace with correct implementation if needed\n            setLoadingStats(false);\n        }\n    }[\"Home.useEffect\"], []);\n    // Open profile pane with a given pubkey\n    const openProfilePane = (pubkey)=>{\n        setProfilePanePubkey(pubkey);\n        setActivePane(\"profile\");\n        setSidePaneComponent(null); // Will be set in useEffect\n    };\n    // Dynamic import logic for side pane\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            if (!activePane) {\n                setSidePaneComponent(null);\n                return;\n            }\n            let component = null;\n            if (activePane === \"explore\") {\n                component = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_explore_page__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 622,\n                    columnNumber: 19\n                }, this);\n            } else if (activePane === \"wallet\") {\n                component = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_wallet_page__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 624,\n                    columnNumber: 19\n                }, this);\n            } else if (activePane === \"chat\") {\n                component = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_chat_page__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 626,\n                    columnNumber: 19\n                }, this);\n            } else if (activePane === \"profile\" && profilePanePubkey) {\n                component = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_profile_page__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    userOverride: profilePanePubkey,\n                    onClose: {\n                        \"Home.useEffect\": ()=>setActivePane(null)\n                    }[\"Home.useEffect\"]\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 628,\n                    columnNumber: 19\n                }, this);\n            } else {\n                // Placeholder for other panes\n                component = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 text-white\",\n                    children: \"Coming soon...\"\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 631,\n                    columnNumber: 19\n                }, this);\n            }\n            setSidePaneComponent(component);\n        }\n    }[\"Home.useEffect\"], [\n        activePane,\n        profilePanePubkey\n    ]);\n    // --- Layout Refactor Start ---\n    // Relay health state\n    const [healthyRelayCount, setHealthyRelayCount] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [checkingRelays, setCheckingRelays] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Home.useEffect\": ()=>{\n            let mounted = true;\n            async function checkRelays() {\n                setCheckingRelays(true);\n                try {\n                    const { healthyRelays } = await (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.getHealthyRelays)();\n                    if (mounted) setHealthyRelayCount(healthyRelays.length);\n                } catch (e) {\n                    if (mounted) setHealthyRelayCount(null);\n                } finally{\n                    if (mounted) setCheckingRelays(false);\n                }\n            }\n            checkRelays();\n            // Optionally, re-check every 2 minutes\n            const interval = setInterval(checkRelays, 120000);\n            return ({\n                \"Home.useEffect\": ()=>{\n                    mounted = false;\n                    clearInterval(interval);\n                }\n            })[\"Home.useEffect\"];\n        }\n    }[\"Home.useEffect\"], []);\n    // --- Layout Refactor Start ---\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen w-full bg-black flex flex-row\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"hidden md:flex flex-col w-[80px] xl:w-[240px] h-screen sticky top-0 left-0 z-30 border-r border-gray-800 bg-gray-950\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_Sidebar__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    onNav: handleNav,\n                    activePane: activePane\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 664,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                lineNumber: 663,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-row w-full max-w-[calc(100vw-400px)] xl:max-w-[calc(100vw-400px)] 2xl:max-w-[1800px] transition-all duration-300 \".concat(activePane && sidePaneComponent ? \"gap-8\" : \"\", \" justify-center\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full max-w-2xl px-2 sm:px-6 py-8 bg-gray-950 border border-gray-800 shadow-xl rounded-xl transition-all duration-300 flex-shrink-0 \".concat(activePane && sidePaneComponent ? \"\" : \"mx-auto\", \" overflow-y-auto h-[calc(100vh-32px)]\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col sm:flex-row gap-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: search,\n                                                        onChange: (e)=>setSearch(e.target.value),\n                                                        onFocus: ()=>setSearchFocused(true),\n                                                        placeholder: \"Search users by name, username, or npub...\",\n                                                        className: \"w-full px-4 py-2 rounded-full bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/30 placeholder-gray-500\",\n                                                        autoComplete: \"off\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                        lineNumber: 680,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 679,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"ml-0 sm:ml-2 px-4 py-2 rounded-full border border-blue-500 text-blue-400 bg-blue-900/20 hover:bg-blue-900/40 transition font-semibold \".concat(showFilter ? 'ring-2 ring-blue-400' : ''),\n                                                    onClick: ()=>setShowFilter((v)=>!v),\n                                                    children: showFilter ? 'Hide Filters' : 'Filter by Tag'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 690,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 678,\n                                            columnNumber: 15\n                                        }, this),\n                                        showFilter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-6 flex gap-2 items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: filterTag,\n                                                    onChange: (e)=>setFilterTag(e.target.value),\n                                                    placeholder: \"Enter tag (e.g. bitcoin, nostr, ai)\",\n                                                    className: \"px-4 py-2 rounded-full bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/30 placeholder-gray-500 w-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 699,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition font-semibold\",\n                                                    onClick: ()=>setFilterTag(\"\"),\n                                                    children: \"Clear\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 706,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 698,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                                            className: \"flex items-center justify-between mb-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: !pubkey && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: login,\n                                                    className: \"px-4 py-2 rounded-full bg-blue-500 text-white font-medium hover:bg-blue-600 shadow-lg shadow-blue-500/20 transition\",\n                                                    children: \"Login with NOSTR\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 720,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                lineNumber: 718,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 716,\n                                            columnNumber: 15\n                                        }, this),\n                                        globalPostCount !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-400 mb-2 text-center\",\n                                            children: [\n                                                \"\\uD83C\\uDF0E Global Nostr Posts: \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-bold\",\n                                                    children: globalPostCount.toLocaleString()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 733,\n                                                    columnNumber: 42\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 732,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-400 mb-2 text-center\",\n                                            children: \"Loading global post count...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 736,\n                                            columnNumber: 17\n                                        }, this),\n                                        healthyRelayCount !== null && healthyRelayCount < 3 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-4 p-3 rounded-xl bg-yellow-900/80 border border-yellow-600 text-yellow-200 text-center flex flex-col items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold\",\n                                                    children: \"⚠️ Low relay connectivity\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 742,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Only \",\n                                                        healthyRelayCount,\n                                                        \" healthy relay\",\n                                                        healthyRelayCount === 1 ? '' : 's',\n                                                        \" detected. Some posts may be missing or delayed.\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 743,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"mt-1 px-3 py-1 rounded bg-yellow-700 text-white hover:bg-yellow-800 text-xs font-semibold\",\n                                                    onClick: ()=>{\n                                                        setHealthyRelayCount(null);\n                                                        setCheckingRelays(true);\n                                                        (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.getHealthyRelays)().then((param)=>{\n                                                            let { healthyRelays } = param;\n                                                            setHealthyRelayCount(healthyRelays.length);\n                                                            setCheckingRelays(false);\n                                                        }).catch(()=>setCheckingRelays(false));\n                                                    },\n                                                    disabled: checkingRelays,\n                                                    children: checkingRelays ? 'Checking...' : 'Retry Relays'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 744,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 741,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                    lineNumber: 677,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                                    className: \"flex flex-col gap-6\",\n                                    children: [\n                                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_ErrorMessage__WEBPACK_IMPORTED_MODULE_6__.ErrorMessage, {\n                                            message: error,\n                                            relayStats: relayStats,\n                                            onRetry: ()=>fetchEvents(),\n                                            onClearRelays: ()=>{\n                                                (0,_lib_nostr_relay__WEBPACK_IMPORTED_MODULE_8__.clearBadRelayCache)();\n                                                fetchEvents();\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 766,\n                                            columnNumber: 17\n                                        }, this),\n                                        events.length === 0 && !isLoadingMore && !error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center text-gray-500 py-12\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mb-4\",\n                                                    children: \"No posts yet. Be the first to post!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 780,\n                                                    columnNumber: 19\n                                                }, this),\n                                                !pubkey && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: login,\n                                                    className: \"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-full text-blue-400 transition\",\n                                                    children: \"Connect with NOSTR to Post\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 782,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 779,\n                                            columnNumber: 17\n                                        }, this),\n                                        filteredEvents.map((ev, index)=>{\n                                            var _ev_profile, _ev_profile1, _ev_profile2, _ev_profile3, _ev_profile4, _ev_profile5, _ev_profile6, _ev_profile7, _ev_profile8, _ev_profile9;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                ref: hashtagResults.length === 0 && index === events.length - 1 ? lastPostRef : null,\n                                                className: \"relative\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        onClick: ()=>{\n                                                            if (activeChatPostId === ev.id) {\n                                                                handleChatClose(ev.id);\n                                                            } else {\n                                                                if (activeChatPostId) {\n                                                                    handleChatClose(activeChatPostId);\n                                                                    setTimeout(()=>setActiveChatPostId(ev.id), 300);\n                                                                } else {\n                                                                    setActiveChatPostId(ev.id);\n                                                                }\n                                                            }\n                                                        },\n                                                        className: \"bg-gray-900/40 backdrop-blur-sm border border-white/10 rounded-xl p-5 shadow-lg flex flex-col gap-2 cursor-pointer transition hover:bg-gray-900/60 hover:border-white/20 \".concat(activeChatPostId === ev.id ? 'rounded-b-none border-b-0' : ''),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-4 mb-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProfileDropdown, {\n                                                                        menu: pubkey && ev.pubkey !== pubkey ? isFollowing(ev.pubkey) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            className: \"text-xs px-3 py-1 rounded bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700 w-full text-left\",\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                unfollowUser(ev.pubkey);\n                                                                            },\n                                                                            children: \"Unfollow\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                            lineNumber: 819,\n                                                                            columnNumber: 29\n                                                                        }, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            className: \"text-xs px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600 w-full text-left\",\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                followUser(ev.pubkey);\n                                                                            },\n                                                                            children: \"Follow\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                            lineNumber: 824,\n                                                                            columnNumber: 29\n                                                                        }, void 0) : null,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: ((_ev_profile = ev.profile) === null || _ev_profile === void 0 ? void 0 : _ev_profile.picture) || \"/file.svg\",\n                                                                            alt: \"avatar\",\n                                                                            className: \"w-12 h-12 rounded-full border border-gray-800\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                            lineNumber: 831,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 816,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"min-w-0 flex flex-col\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                type: \"button\",\n                                                                                className: \"font-semibold text-white truncate hover:underline text-left outline-none bg-transparent border-0 p-0 m-0 cursor-pointer\",\n                                                                                onClick: (e)=>{\n                                                                                    e.stopPropagation();\n                                                                                    openProfilePane(ev.pubkey);\n                                                                                },\n                                                                                tabIndex: 0,\n                                                                                \"aria-label\": \"Open profile for \".concat(((_ev_profile1 = ev.profile) === null || _ev_profile1 === void 0 ? void 0 : _ev_profile1.display_name) || ((_ev_profile2 = ev.profile) === null || _ev_profile2 === void 0 ? void 0 : _ev_profile2.name) || ((_ev_profile3 = ev.profile) === null || _ev_profile3 === void 0 ? void 0 : _ev_profile3.username) || ev.pubkey),\n                                                                                children: ((_ev_profile4 = ev.profile) === null || _ev_profile4 === void 0 ? void 0 : _ev_profile4.display_name) || ((_ev_profile5 = ev.profile) === null || _ev_profile5 === void 0 ? void 0 : _ev_profile5.name) || ((_ev_profile6 = ev.profile) === null || _ev_profile6 === void 0 ? void 0 : _ev_profile6.username) || ev.pubkey.slice(0, 8) + \"...\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 839,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-400 flex items-center gap-2\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: [\n                                                                                            \"@\",\n                                                                                            ((_ev_profile7 = ev.profile) === null || _ev_profile7 === void 0 ? void 0 : _ev_profile7.name) || ((_ev_profile8 = ev.profile) === null || _ev_profile8 === void 0 ? void 0 : _ev_profile8.username) || (((_ev_profile9 = ev.profile) === null || _ev_profile9 === void 0 ? void 0 : _ev_profile9.pubkey) ? \"\".concat(ev.profile.pubkey.slice(0, 6), \"...\").concat(ev.profile.pubkey.slice(-4)) : ev.pubkey.slice(0, 6) + '...' + ev.pubkey.slice(-4))\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                        lineNumber: 852,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"text-xs text-gray-500\",\n                                                                                        children: relativeTime(ev.created_at)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                        lineNumber: 855,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 851,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 837,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex-1\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 858,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    chatCounts[ev.id] > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"px-2 py-1 rounded-full bg-blue-500/10 text-blue-400 text-sm flex items-center gap-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"\\uD83D\\uDCAC\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 863,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            chatCounts[ev.id]\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 862,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                lineNumber: 815,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-lg text-white whitespace-pre-line break-words mb-1\",\n                                                                children: formatNostrAddresses(ev.content)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                lineNumber: 870,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            renderMediaWithPreview(ev.media, linkPreviews, setLightboxMedia),\n                                                            renderHashtags(ev),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex gap-6 mt-2 text-sm text-gray-400 border-t border-gray-800 pt-3\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 transition \".concat(activeChatPostId === ev.id ? 'text-blue-400' : 'hover:text-blue-400'),\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"\\uD83D\\uDCAC\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 879,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    \"Chat\",\n                                                                                    chatCounts[ev.id] > 0 ? \" (\".concat(chatCounts[ev.id], \")\") : ''\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 880,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 878,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: \"flex items-center gap-2 hover:text-pink-400 transition \".concat(likedPosts[ev.id] ? 'text-pink-400 font-bold' : ''),\n                                                                        onClick: (e)=>{\n                                                                            e.stopPropagation();\n                                                                            if (!likedPosts[ev.id]) handleLike(ev.id, ev.pubkey);\n                                                                        },\n                                                                        disabled: !!likedPosts[ev.id],\n                                                                        \"aria-label\": likedPosts[ev.id] ? 'Liked' : 'Like',\n                                                                        type: \"button\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"❤️\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 889,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    \"Like\",\n                                                                                    likeCounts[ev.id] ? \" (\".concat(likeCounts[ev.id], \")\") : ''\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 890,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 882,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        className: \"flex items-center gap-2 hover:text-green-400 transition \".concat(repostedPosts[ev.id] ? 'text-green-400 font-bold' : ''),\n                                                                        onClick: (e)=>{\n                                                                            e.stopPropagation();\n                                                                            if (!repostedPosts[ev.id]) handleRepost(ev.id, ev.pubkey, ev.content);\n                                                                        },\n                                                                        disabled: !!repostedPosts[ev.id],\n                                                                        \"aria-label\": repostedPosts[ev.id] ? 'Reposted' : 'Repost',\n                                                                        type: \"button\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"\\uD83D\\uDD01\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 899,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    \"Repost\",\n                                                                                    repostCounts[ev.id] ? \" (\".concat(repostCounts[ev.id], \")\") : ''\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                                lineNumber: 900,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                        lineNumber: 892,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                                lineNumber: 877,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                        lineNumber: 799,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    activeChatPostId === ev.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_ChatBox__WEBPACK_IMPORTED_MODULE_4__.ChatBox, {\n                                                        postId: ev.id,\n                                                        pubkey: pubkey,\n                                                        onClose: ()=>handleChatClose(ev.id),\n                                                        isAnimating: closingChatId === ev.id\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                        lineNumber: 907,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, ev.id, true, {\n                                                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                lineNumber: 794,\n                                                columnNumber: 17\n                                            }, this);\n                                        }),\n                                        isLoadingMore && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 919,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-2 text-gray-400 text-sm\",\n                                                    children: \"Loading more posts...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 920,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 918,\n                                            columnNumber: 17\n                                        }, this),\n                                        !hasMore && events.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-8 text-gray-500\",\n                                            children: \"You've reached the end!\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 926,\n                                            columnNumber: 17\n                                        }, this),\n                                        retryCount > 0 && !isLoadingMore && hasMore && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-400 mb-2\",\n                                                    children: \"Failed to load more posts\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 934,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>{\n                                                        const oldestEvent = events[events.length - 1];\n                                                        if (oldestEvent) {\n                                                            setIsLoadingMore(true);\n                                                            fetchEvents({\n                                                                until: oldestEvent.created_at\n                                                            }).then((hasNewEvents)=>{\n                                                                setHasMore(hasNewEvents);\n                                                                setIsLoadingMore(false);\n                                                                setRetryCount(0);\n                                                            }).catch(()=>{\n                                                                setIsLoadingMore(false);\n                                                                setRetryCount((prev)=>prev + 1);\n                                                            });\n                                                        }\n                                                    },\n                                                    className: \"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 rounded-full text-sm transition\",\n                                                    children: \"Try Again\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                                    lineNumber: 935,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                            lineNumber: 933,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                                    lineNumber: 763,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 673,\n                            columnNumber: 11\n                        }, this),\n                        activePane && sidePaneComponent && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                            className: \"hidden lg:block w-full max-w-2xl px-2 sm:px-6 py-8 bg-gray-950 border border-gray-800 shadow-xl rounded-xl overflow-y-auto relative animate-slide-in-left flex-shrink-0 h-[calc(100vh-32px)]\",\n                            children: sidePaneComponent\n                        }, void 0, false, {\n                            fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                            lineNumber: 963,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 669,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                lineNumber: 668,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"hidden xl:flex flex-col w-[320px] h-screen sticky top-0 right-0 z-30 border-l border-gray-800 bg-gray-950\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_RightSidebar__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                    trendingHashtags: trendingHashtags,\n                    searchHashtag: searchHashtag\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                    lineNumber: 972,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n                lineNumber: 971,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/scarnes/workspace/src/app/page.tsx\",\n        lineNumber: 661,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"ucQklnDh7F02D2Vtr0PHH+d26ac=\", true, function() {\n    return [\n        _hooks_useNostr__WEBPACK_IMPORTED_MODULE_1__.useNostr\n    ];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQzhCO0FBQ2Q7QUFFUjtBQUVNO0FBRU07QUFHRjtBQUMyQjtBQUNoRDtBQUVJO0FBQ0E7QUFDRjtBQUNKO0FBQ1c7QUFDVTtBQUU1RCxTQUFTcUIsYUFBYUMsU0FBaUI7SUFDckMsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxPQUFPQyxLQUFLQyxLQUFLLENBQUMsQ0FBQ0osTUFBT0QsQ0FBQUEsWUFBWSxRQUFRQSxTQUFRLENBQUMsSUFBSztJQUNsRSxJQUFJRyxPQUFPLElBQUksT0FBTyxHQUFRLE9BQUxBLE1BQUs7SUFDOUIsSUFBSUEsT0FBTyxNQUFNLE9BQU8sR0FBeUIsT0FBdEJDLEtBQUtDLEtBQUssQ0FBQ0YsT0FBTyxLQUFJO0lBQ2pELElBQUlBLE9BQU8sT0FBTyxPQUFPLEdBQTJCLE9BQXhCQyxLQUFLQyxLQUFLLENBQUNGLE9BQU8sT0FBTTtJQUNwRCxPQUFPLElBQUlELEtBQUtGLFlBQVksUUFBUUEsV0FBV00sa0JBQWtCO0FBQ25FO0FBRUEsU0FBU0Msa0JBQWtCQyxPQUFvQjtJQUM3QyxPQUNFLGdEQUFnRDtrQkFDaEQsOERBQUNDO1FBQ0NDLE1BQU1GLFFBQVFHLEdBQUc7UUFDakJDLFFBQU87UUFDUEMsS0FBSTtRQUNKQyxXQUFVOztZQUVUTixRQUFRTyxLQUFLLGtCQUNaLDhEQUFDQztnQkFDQ0MsS0FBS1QsUUFBUU8sS0FBSztnQkFDbEJHLEtBQUtWLFFBQVFXLEtBQUssSUFBSVgsUUFBUUcsR0FBRztnQkFDakNHLFdBQVU7Ozs7OzswQkFHZCw4REFBQ007Z0JBQUlOLFdBQVU7O2tDQUNiLDhEQUFDTTt3QkFBSU4sV0FBVTtrQ0FBK0NOLFFBQVFXLEtBQUssSUFBSVgsUUFBUUcsR0FBRzs7Ozs7O29CQUN6RkgsUUFBUWEsUUFBUSxrQkFDZiw4REFBQ0Q7d0JBQUlOLFdB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V0FBVTs7OERBQ2IsOERBQUNNO29EQUFJTixXQUFVOzs7Ozs7OERBQ2YsOERBQUMwRztvREFBRTFHLFdBQVU7OERBQTZCOzs7Ozs7Ozs7Ozs7d0NBSzdDLENBQUMrQyxXQUFXckIsT0FBT3lHLE1BQU0sR0FBRyxtQkFDM0IsOERBQUM3SDs0Q0FBSU4sV0FBVTtzREFBaUM7Ozs7Ozt3Q0FNakRpRCxhQUFhLEtBQUssQ0FBQ0osaUJBQWlCRSx5QkFDbkMsOERBQUN6Qzs0Q0FBSU4sV0FBVTs7OERBQ2IsOERBQUMwRztvREFBRTFHLFdBQVU7OERBQXFCOzs7Ozs7OERBQ2xDLDhEQUFDOEs7b0RBQ0NDLFNBQVM7d0RBQ1AsTUFBTTdDLGNBQWN4RyxNQUFNLENBQUNBLE9BQU95RyxNQUFNLEdBQUcsRUFBRTt3REFDN0MsSUFBSUQsYUFBYTs0REFDZnBGLGlCQUFpQjs0REFDakJqQixZQUFZO2dFQUFFdUcsT0FBT0YsWUFBWUcsVUFBVTs0REFBQyxHQUN6Q0MsSUFBSSxDQUFDQyxDQUFBQTtnRUFDSnZGLFdBQVd1RjtnRUFDWHpGLGlCQUFpQjtnRUFDakJJLGNBQWM7NERBQ2hCLEdBQ0NzRixLQUFLLENBQUM7Z0VBQ0wxRixpQkFBaUI7Z0VBQ2pCSSxjQUFjdUYsQ0FBQUEsT0FBUUEsT0FBTzs0REFDL0I7d0RBQ0o7b0RBQ0Y7b0RBQ0F6SSxXQUFVOzhEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBU1J3RixjQUFjRSxtQ0FDYiw4REFBQzJLOzRCQUFRclEsV0FBVTtzQ0FDaEIwRjs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBT1QsOERBQUNxSjtnQkFBTS9PLFdBQVU7MEJBQ2YsNEVBQUNoQix3RUFBWUE7b0JBQUNvTSxrQkFBa0JBO29CQUFrQlgsZUFBZUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSXpFO0dBdjNCd0JqSjs7UUFDeUY1RCxxREFBUUE7OztLQURqRzREIiwic291cmNlcyI6WyIvVXNlcnMvc2Nhcm5lcy93b3Jrc3BhY2Uvc3JjL2FwcC9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlTm9zdHIgfSBmcm9tIFwiQC9ob29rcy91c2VOb3N0clwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZmV0Y2hMaW5rUHJldmlldyB9IGZyb20gXCJAL2xpYi91dGlscy9saW5rLXByZXZpZXdcIjtcbmltcG9ydCB7IExpbmtQcmV2aWV3IH0gZnJvbSBcIkAvdHlwZXMvbGluay1wcmV2aWV3XCI7XG5pbXBvcnQgeyBDaGF0Qm94IH0gZnJvbSBcIkAvY29tcG9uZW50cy9jaGF0L0NoYXRCb3hcIjtcbmltcG9ydCB7IFBvc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL2ZlZWQvUG9zdFwiO1xuaW1wb3J0IHsgQ3JlYXRlUG9zdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvZmVlZC9DcmVhdGVQb3N0XCI7XG5pbXBvcnQgeyBMb2FkaW5nU3Bpbm5lciB9IGZyb20gXCJAL2NvbXBvbmVudHMvc2hhcmVkL0xvYWRpbmdTcGlubmVyXCI7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3NoYXJlZC9FcnJvck1lc3NhZ2VcIjtcbmltcG9ydCB7IFByb2ZpbGVQYW5lIH0gZnJvbSBcIkAvY29tcG9uZW50cy9Qcm9maWxlUGFuZVwiO1xuaW1wb3J0IHsgRmluYW5jaWFsVGlja2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9zaGFyZWQvQml0Y29pblRpY2tlclwiO1xuaW1wb3J0IHsgTWVkaWFQbGF5ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3NoYXJlZC9NZWRpYVBsYXllclwiO1xuaW1wb3J0IHsgZ2V0SGVhbHRoeVJlbGF5cywgZmV0Y2hOb3N0ckZlZWQsIGNsZWFyQmFkUmVsYXlDYWNoZSB9IGZyb20gXCJAL2xpYi9ub3N0ci9yZWxheVwiO1xuaW1wb3J0IHsgU2ltcGxlUG9vbCB9IGZyb20gXCJub3N0ci10b29sc1wiO1xuaW1wb3J0IFN0YXRzRGlzcGxheSBmcm9tIFwiQC9jb21wb25lbnRzL1N0YXRzRGlzcGxheVwiO1xuaW1wb3J0IFByb2ZpbGVQYWdlIGZyb20gXCJAL2FwcC9wcm9maWxlL3BhZ2VcIjtcbmltcG9ydCBFeHBsb3JlUGFnZSBmcm9tIFwiQC9hcHAvZXhwbG9yZS9wYWdlXCI7XG5pbXBvcnQgV2FsbGV0UGFnZSBmcm9tIFwiQC9hcHAvd2FsbGV0L3BhZ2VcIjtcbmltcG9ydCBDaGF0UGFnZSBmcm9tIFwiQC9hcHAvY2hhdC9wYWdlXCI7XG5pbXBvcnQgU2lkZWJhciBmcm9tIFwiQC9jb21wb25lbnRzL2xheW91dC9TaWRlYmFyXCI7XG5pbXBvcnQgUmlnaHRTaWRlYmFyIGZyb20gXCJAL2NvbXBvbmVudHMvbGF5b3V0L1JpZ2h0U2lkZWJhclwiO1xuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUodGltZXN0YW1wOiBudW1iZXIpIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgZGlmZiA9IE1hdGguZmxvb3IoKG5vdyAtICh0aW1lc3RhbXAgKiAxMDAwIHx8IHRpbWVzdGFtcCkpIC8gMTAwMCk7XG4gIGlmIChkaWZmIDwgNjApIHJldHVybiBgJHtkaWZmfXMgYWdvYDtcbiAgaWYgKGRpZmYgPCAzNjAwKSByZXR1cm4gYCR7TWF0aC5mbG9vcihkaWZmIC8gNjApfW0gYWdvYDtcbiAgaWYgKGRpZmYgPCA4NjQwMCkgcmV0dXJuIGAke01hdGguZmxvb3IoZGlmZiAvIDM2MDApfWggYWdvYDtcbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDAgfHwgdGltZXN0YW1wKS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTGlua1ByZXZpZXcocHJldmlldzogTGlua1ByZXZpZXcpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBSZXBsYWNlIGlubGluZSBzdHlsZSB3aXRoIFRhaWx3aW5kIGZvciBhbmNob3JcbiAgICA8YVxuICAgICAgaHJlZj17cHJldmlldy51cmx9XG4gICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICBjbGFzc05hbWU9XCJibG9jayByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItZ3JheS04MDAgYmctZ3JheS05NTAgaG92ZXI6YmctZ3JheS05MDAgdHJhbnNpdGlvbiBzaGFkb3cgZmxleCBnYXAtNCBwLTQgbXQtMiBtYXgtdy14bCBuby11bmRlcmxpbmVcIlxuICAgID5cbiAgICAgIHtwcmV2aWV3LmltYWdlICYmIChcbiAgICAgICAgPGltZ1xuICAgICAgICAgIHNyYz17cHJldmlldy5pbWFnZX1cbiAgICAgICAgICBhbHQ9e3ByZXZpZXcudGl0bGUgfHwgcHJldmlldy51cmx9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy0yNCBoLTI0IG9iamVjdC1jb3ZlciByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS04MDAgYmctYmxhY2sgZmxleC1zaHJpbmstMFwiXG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1pbi13LTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHRydW5jYXRlXCI+e3ByZXZpZXcudGl0bGUgfHwgcHJldmlldy51cmx9PC9kaXY+XG4gICAgICAgIHtwcmV2aWV3LnNpdGVOYW1lICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBtYi0xIHRydW5jYXRlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICB7cHJldmlldy5mYXZpY29uICYmIDxpbWcgc3JjPXtwcmV2aWV3LmZhdmljb259IGFsdD1cImZhdmljb25cIiBjbGFzc05hbWU9XCJpbmxpbmUgdy00IGgtNCBtci0xIGFsaWduLW1pZGRsZSByb3VuZGVkXCIgLz59IHtwcmV2aWV3LnNpdGVOYW1lfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7cHJldmlldy5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDAgdHJ1bmNhdGVcIj57cHJldmlldy5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS00MDAgdHJ1bmNhdGUgbXQtMVwiPntwcmV2aWV3LnVybH08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvYT5cbiAgKTtcbn1cblxuLy8gVXRpbGl0eSB0byBmb3JtYXQgTk9TVFIgYWRkcmVzc2VzIGluIHRleHRcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXROb3N0ckFkZHJlc3Nlcyh0ZXh0OiBzdHJpbmcpIHtcbiAgLy8gUmVnZXggZm9yIGhleCBwdWJrZXkgKDY0IGhleCBjaGFycykgYW5kIG5wdWIxLi4uIGJlY2gzMiBOT1NUUiBhZGRyZXNzZXNcbiAgY29uc3Qgbm9zdHJSZWdleCA9IC8obnB1YjFbMC05YS16XXs1OX18W2EtZjAtOV17NjR9KS9naTtcbiAgcmV0dXJuIHRleHQuc3BsaXQobm9zdHJSZWdleCkubWFwKChwYXJ0LCBpKSA9PiB7XG4gICAgaWYgKHBhcnQubWF0Y2gobm9zdHJSZWdleCkpIHtcbiAgICAgIHJldHVybiBwYXJ0OyAvLyBObyBzcGVjaWFsIGZvcm1hdHRpbmcgb3IgbGlua2luZ1xuICAgIH1cbiAgICByZXR1cm4gcGFydDtcbiAgfSk7XG59XG5cbi8vIEhlbHBlciBmb3IgYWR2YW5jZWQgcmVsYXkgcXVlcmllcyAobGlrZSBsaWtlcywgcmVwb3N0cywgaGFzaHRhZyBzZWFyY2gpXG5hc3luYyBmdW5jdGlvbiBxdWVyeVJlbGF5RXZlbnRzKGZpbHRlcjogYW55KSB7XG4gIGNvbnN0IHsgaGVhbHRoeVJlbGF5cyB9ID0gYXdhaXQgZ2V0SGVhbHRoeVJlbGF5cygpO1xuICBjb25zdCBwb29sID0gbmV3IFNpbXBsZVBvb2woKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcG9vbC5xdWVyeVN5bmMoaGVhbHRoeVJlbGF5cywgZmlsdGVyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBwb29sLmNsb3NlKGhlYWx0aHlSZWxheXMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IHsgcHVia2V5LCBldmVudHMsIGVycm9yLCBsb2dpbiwgZmV0Y2hFdmVudHMsIHBvc3QsIGZvbGxvd1VzZXIsIHVuZm9sbG93VXNlciwgaXNGb2xsb3dpbmcsIHJlbGF5U3RhdHMgfSA9IHVzZU5vc3RyKCk7XG4gIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbGlua1ByZXZpZXdzLCBzZXRMaW5rUHJldmlld3NdID0gdXNlU3RhdGU8eyBbdXJsOiBzdHJpbmddOiBMaW5rUHJldmlldyB8IG51bGwgfT4oe30pO1xuICBjb25zdCBbYWN0aXZlQ2hhdFBvc3RJZCwgc2V0QWN0aXZlQ2hhdFBvc3RJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Nsb3NpbmdDaGF0SWQsIHNldENsb3NpbmdDaGF0SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGF0Q291bnRzLCBzZXRDaGF0Q291bnRzXSA9IHVzZVN0YXRlPHsgW3Bvc3RJZDogc3RyaW5nXTogbnVtYmVyIH0+KHt9KTtcbiAgY29uc3QgW2lzTG9hZGluZ01vcmUsIHNldElzTG9hZGluZ01vcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaGFzTW9yZSwgc2V0SGFzTW9yZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3JldHJ5Q291bnQsIHNldFJldHJ5Q291bnRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtwcm9maWxlUGFuZU9wZW4sIHNldFByb2ZpbGVQYW5lT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWFyY2gsIHNldFNlYXJjaF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3NlYXJjaEZvY3VzZWQsIHNldFNlYXJjaEZvY3VzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaGFzaHRhZywgc2V0SGFzaHRhZ10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbaGFzaHRhZ1Jlc3VsdHMsIHNldEhhc2h0YWdSZXN1bHRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtmaWx0ZXJUYWcsIHNldEZpbHRlclRhZ10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Nob3dGaWx0ZXIsIHNldFNob3dGaWx0ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0Z1bGxQcm9maWxlLCBzZXRTaG93RnVsbFByb2ZpbGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzZWFyY2hUaW1lb3V0ID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IG9ic2VydmVyUmVmID0gdXNlUmVmPEludGVyc2VjdGlvbk9ic2VydmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGxhc3RQb3N0UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGdsb2JhbFBvc3RDb3VudCA9IHVzZUdsb2JhbE5vc3RyUG9zdENvdW50KCk7XG4gIGNvbnN0IFtsaWtlQ291bnRzLCBzZXRMaWtlQ291bnRzXSA9IHVzZVN0YXRlPHsgW3Bvc3RJZDogc3RyaW5nXTogbnVtYmVyIH0+KHt9KTtcbiAgY29uc3QgW2xpa2VkUG9zdHMsIHNldExpa2VkUG9zdHNdID0gdXNlU3RhdGU8eyBbcG9zdElkOiBzdHJpbmddOiBib29sZWFuIH0+KHt9KTtcbiAgY29uc3QgW3JlcG9zdENvdW50cywgc2V0UmVwb3N0Q291bnRzXSA9IHVzZVN0YXRlPHsgW3Bvc3RJZDogc3RyaW5nXTogbnVtYmVyIH0+KHt9KTtcbiAgY29uc3QgW3JlcG9zdGVkUG9zdHMsIHNldFJlcG9zdGVkUG9zdHNdID0gdXNlU3RhdGU8eyBbcG9zdElkOiBzdHJpbmddOiBib29sZWFuIH0+KHt9KTtcbiAgY29uc3QgW2xpZ2h0Ym94TWVkaWEsIHNldExpZ2h0Ym94TWVkaWFdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzdGF0cywgc2V0U3RhdHNdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmdTdGF0cywgc2V0TG9hZGluZ1N0YXRzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYWN0aXZlUGFuZSwgc2V0QWN0aXZlUGFuZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NpZGVQYW5lQ29tcG9uZW50LCBzZXRTaWRlUGFuZUNvbXBvbmVudF0gPSB1c2VTdGF0ZTxSZWFjdC5SZWFjdE5vZGU+KG51bGwpO1xuICBjb25zdCBbcHJvZmlsZVBhbmVQdWJrZXksIHNldFByb2ZpbGVQYW5lUHVia2V5XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEhhbmRsZSBzaWRlYmFyIG5hdmlnYXRpb25cbiAgY29uc3QgaGFuZGxlTmF2ID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGFjdGl2ZVBhbmUgPT09IGtleSkge1xuICAgICAgc2V0QWN0aXZlUGFuZShudWxsKTtcbiAgICAgIHNldFNpZGVQYW5lQ29tcG9uZW50KG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInByb2ZpbGVcIikge1xuICAgICAgaWYgKCFwdWJrZXkpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgbG9nIGluIHRvIHZpZXcgeW91ciBwcm9maWxlLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0UHJvZmlsZVBhbmVQdWJrZXkocHVia2V5KTtcbiAgICAgIHNldEFjdGl2ZVBhbmUoXCJwcm9maWxlXCIpO1xuICAgICAgc2V0U2lkZVBhbmVDb21wb25lbnQobnVsbCk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwicG9zdFwiKSB7XG4gICAgICBzZXRBY3RpdmVQYW5lKFwicG9zdFwiKTtcbiAgICAgIHNldFNpZGVQYW5lQ29tcG9uZW50KFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTRcIj5DcmVhdGUgYSBOZXcgUG9zdDwvaDI+XG4gICAgICAgICAgPENyZWF0ZVBvc3RcbiAgICAgICAgICAgIG9uU3VibWl0PXthc3luYyAoY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICBhd2FpdCBwb3N0KGNvbnRlbnQpO1xuICAgICAgICAgICAgICBhbGVydChcIlBvc3QgY3JlYXRlZCBzdWNjZXNzZnVsbHkhXCIpO1xuICAgICAgICAgICAgICBzZXRBY3RpdmVQYW5lKG51bGwpO1xuICAgICAgICAgICAgICBzZXRTaWRlUGFuZUNvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBpc0xvZ2dlZEluPXshIXB1YmtleX1cbiAgICAgICAgICAgIG9uTG9naW49e2xvZ2lufVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0QWN0aXZlUGFuZShrZXkpO1xuICAgICAgc2V0U2lkZVBhbmVDb21wb25lbnQobnVsbCk7XG4gICAgfVxuICB9LCBbYWN0aXZlUGFuZSwgcHVia2V5XSk7XG5cbiAgLy8gU2VhcmNoIGxvZ2ljOiBmaWx0ZXIgYWxsIGtub3duIHByb2ZpbGVzIGJ5IGRpc3BsYXlOYW1lLCB1c2VybmFtZSwgb3IgcHVia2V5XG4gIGNvbnN0IGFsbFByb2ZpbGVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICByZXR1cm4gZXZlbnRzXG4gICAgICAubWFwKGV2ID0+IGV2LnByb2ZpbGUgfHwgeyBwdWJrZXk6IGV2LnB1YmtleSB9KVxuICAgICAgLmZpbHRlcihwID0+IHtcbiAgICAgICAgaWYgKCFwLnB1YmtleSB8fCBzZWVuLmhhcyhwLnB1YmtleSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc2Vlbi5hZGQocC5wdWJrZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICB9LCBbZXZlbnRzXSk7XG5cbiAgLy8gRGVib3VuY2VkIHNlYXJjaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWFyY2hUaW1lb3V0LmN1cnJlbnQpIGNsZWFyVGltZW91dChzZWFyY2hUaW1lb3V0LmN1cnJlbnQpO1xuICAgIGlmICghc2VhcmNoLnRyaW0oKSkge1xuICAgICAgc2V0U2VhcmNoUmVzdWx0cyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlYXJjaFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgcSA9IHNlYXJjaC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhbGxQcm9maWxlcy5maWx0ZXIocCA9PlxuICAgICAgICAocC5kaXNwbGF5X25hbWUgJiYgcC5kaXNwbGF5X25hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSkgfHxcbiAgICAgICAgKHAudXNlcm5hbWUgJiYgcC51c2VybmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEpKSB8fFxuICAgICAgICAocC5wdWJrZXkgJiYgcC5wdWJrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSlcbiAgICAgICkuc2xpY2UoMCwgMTApOyAvLyBUb3AgMTBcbiAgICAgIHNldFNlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgfSwgMTUwKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtzZWFyY2gsIGFsbFByb2ZpbGVzXSk7XG5cbiAgLy8gQ2xvc2UgZHJvcGRvd24gb24gb3V0c2lkZSBjbGlja1xuICBjb25zdCBzZWFyY2hSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGlmIChzZWFyY2hSZWYuY3VycmVudCAmJiAhc2VhcmNoUmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2VhcmNoRm9jdXNlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzZWFyY2hGb2N1c2VkKSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrKTtcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGljayk7XG4gIH0sIFtzZWFyY2hGb2N1c2VkXSk7XG5cbiAgLy8gSGFuZGxlIGluZmluaXRlIHNjcm9sbGluZ1xuICBjb25zdCBoYW5kbGVPYnNlcnZlciA9IHVzZUNhbGxiYWNrKChlbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W10pID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBlbnRyaWVzWzBdO1xuICAgIGlmICh0YXJnZXQuaXNJbnRlcnNlY3RpbmcgJiYgIWlzTG9hZGluZ01vcmUgJiYgaGFzTW9yZSkge1xuICAgICAgY29uc3Qgb2xkZXN0RXZlbnQgPSBldmVudHNbZXZlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKG9sZGVzdEV2ZW50KSB7XG4gICAgICAgIHNldElzTG9hZGluZ01vcmUodHJ1ZSk7XG4gICAgICAgIGZldGNoRXZlbnRzKHsgdW50aWw6IG9sZGVzdEV2ZW50LmNyZWF0ZWRfYXQgfSlcbiAgICAgICAgICAudGhlbihoYXNOZXdFdmVudHMgPT4ge1xuICAgICAgICAgICAgc2V0SGFzTW9yZShoYXNOZXdFdmVudHMpO1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nTW9yZShmYWxzZSk7XG4gICAgICAgICAgICBzZXRSZXRyeUNvdW50KDApOyAvLyBSZXNldCByZXRyeSBjb3VudCBvbiBzdWNjZXNzZnVsIGZldGNoXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nTW9yZShmYWxzZSk7XG4gICAgICAgICAgICBzZXRSZXRyeUNvdW50KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2V2ZW50cywgZmV0Y2hFdmVudHMsIGlzTG9hZGluZ01vcmUsIGhhc01vcmVdKTtcblxuICAvLyBTZXR1cCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobGFzdFBvc3RSZWYuY3VycmVudCAmJiAhb2JzZXJ2ZXJSZWYuY3VycmVudCkge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlciwge1xuICAgICAgICByb290OiBudWxsLFxuICAgICAgICByb290TWFyZ2luOiBcIjEwMHB4XCIsXG4gICAgICAgIHRocmVzaG9sZDogMC4xXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdFBvc3RSZWYuY3VycmVudCkge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudD8ub2JzZXJ2ZShsYXN0UG9zdFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudD8uZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVPYnNlcnZlcl0pO1xuXG4gIC8vIEhhbmRsZSBjaGF0IGNsb3Npbmcgd2l0aCBhbmltYXRpb25cbiAgY29uc3QgaGFuZGxlQ2hhdENsb3NlID0gKHBvc3RJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0Q2xvc2luZ0NoYXRJZChwb3N0SWQpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0QWN0aXZlQ2hhdFBvc3RJZChudWxsKTtcbiAgICAgIHNldENsb3NpbmdDaGF0SWQobnVsbCk7XG4gICAgfSwgMzAwKTtcbiAgfTtcblxuICAvLyBJbml0aWFsIGZldGNoXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gMS4gRmV0Y2ggYSBzbWFsbCBiYXRjaCBmb3IgZmFzdCBpbml0aWFsIHJlbmRlclxuICAgIGZldGNoRXZlbnRzKCkudGhlbigoKSA9PiB7XG4gICAgICAvLyAyLiBJbiB0aGUgYmFja2dyb3VuZCwgZmV0Y2ggbW9yZSBwb3N0cyBhbmQgYXBwZW5kXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3Qgb2xkZXN0ID0gZXZlbnRzW2V2ZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAob2xkZXN0KSB7XG4gICAgICAgICAgICBmZXRjaEV2ZW50cyh7IHVudGlsOiBvbGRlc3QuY3JlYXRlZF9hdCwgbGltaXQ6IDQwIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgMTAwKTsgLy8gc2xpZ2h0IGRlbGF5IHRvIGFsbG93IGZpcnN0IHJlbmRlclxuICAgIH0pO1xuICAgIC8vIExpdmUgcG9sbGluZyBldmVyeSAzMCBzZWNvbmRzIGZvciBuZXcgcG9zdHNcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGZldGNoRXZlbnRzKCk7XG4gICAgfSwgMzAwMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW2ZldGNoRXZlbnRzXSk7XG5cbiAgLy8gRmV0Y2ggbGluayBwcmV2aWV3cyBmb3IgYWxsIHVuaXF1ZSBsaW5rcyBpbiBldmVudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhbGxMaW5rcyA9IEFycmF5LmZyb20oXG4gICAgICBuZXcgU2V0KFxuICAgICAgICBldmVudHMuZmxhdE1hcChldiA9PlxuICAgICAgICAgIChldi5tZWRpYSB8fCBbXSkuZmlsdGVyKHVybCA9PiAhdXJsLm1hdGNoKC9cXC4oanBlZ3xqcGd8Z2lmfHBuZ3xtcDR8d2VibSkkL2kpKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgICBhbGxMaW5rcy5mb3JFYWNoKGFzeW5jIHVybCA9PiB7XG4gICAgICBpZiAoIWxpbmtQcmV2aWV3c1t1cmxdKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBmZXRjaExpbmtQcmV2aWV3KHVybCk7XG4gICAgICAgIHNldExpbmtQcmV2aWV3cyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1cmxdOiBwcmV2aWV3IH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtldmVudHNdKTtcblxuICAvLyBFbmhhbmNlZCBoYXNodGFnIGV4dHJhY3Rpb25cbiAgY29uc3QgZXh0cmFjdEhhc2h0YWdzID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICAvLyAxLiBGcm9tIGNvbnRlbnQ6ICNoYXNodGFnLCAjaGFzaF90YWcsICNoYXNoMTIzLCBVbmljb2RlLCBhbmQgcXVvdGVkIGhhc2h0YWdzXG4gICAgY29uc3QgY29udGVudFRhZ3MgPSBBcnJheS5mcm9tKFxuICAgICAgbmV3IFNldChcbiAgICAgICAgW1xuICAgICAgICAgIC8vIFN0YW5kYXJkIGhhc2h0YWdzIChsZXR0ZXJzLCBudW1iZXJzLCB1bmRlcnNjb3JlcywgVW5pY29kZSlcbiAgICAgICAgICAuLi4oZXZlbnQuY29udGVudC5tYXRjaCgvIyhbXFxwe0x9XFxwe059Xy1dezIsNTB9KS9ndSkgfHwgW10pLm1hcCgoaDogc3RyaW5nKSA9PiBoLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgIC8vIFF1b3RlZCBoYXNodGFnczogXCIjaGFzaHRhZ1wiXG4gICAgICAgICAgLi4uKGV2ZW50LmNvbnRlbnQubWF0Y2goL1wiIyhbXFxwe0x9XFxwe059Xy1dezIsNTB9KVwiL2d1KSB8fCBbXSkubWFwKChoOiBzdHJpbmcpID0+IGgucmVwbGFjZSgvXCIvZywgJycpLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgIC8vIEhhc2h0YWdzIGluIFVSTHMgKGUuZy4sIGh0dHBzOi8vLi4uLyNoYXNodGFnKVxuICAgICAgICAgIC4uLihldmVudC5jb250ZW50Lm1hdGNoKC9cXC8jKFtcXHB7TH1cXHB7Tn1fLV17Miw1MH0pL2d1KSB8fCBbXSkubWFwKChoOiBzdHJpbmcpID0+IGgucmVwbGFjZSgnLyMnLCAnJykudG9Mb3dlckNhc2UoKSksXG4gICAgICAgIF1cbiAgICAgIClcbiAgICApO1xuICAgIC8vIDIuIEZyb20gdGFncyBhcnJheTogYWxsIHRhZyB0eXBlcyB3aXRoIGEgdmFsdWUgdGhhdCBsb29rcyBsaWtlIGEgaGFzaHRhZ1xuICAgIGNvbnN0IHRhZ1RhZ3MgPSAoZXZlbnQudGFncyB8fCBbXSlcbiAgICAgIC5maWx0ZXIoKHQ6IGFueSkgPT4gdFsxXSAmJiAvXihbXFxwe0x9XFxwe059Xy1dezIsNTB9KSQvdS50ZXN0KHRbMV0pKVxuICAgICAgLm1hcCgodDogYW55KSA9PiB0WzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoWy4uLmNvbnRlbnRUYWdzLCAuLi50YWdUYWdzXSkpO1xuICB9O1xuXG4gIC8vIE1lbW9pemVkIG1hcCBvZiBwb3N0SWQgLT4gaGFzaHRhZ3NcbiAgY29uc3QgZXZlbnRIYXNodGFnc1JlZiA9IHVzZVJlZjx7IFtpZDogc3RyaW5nXTogc3RyaW5nW10gfT4oe30pO1xuICBjb25zdCBldmVudEhhc2h0YWdzID0gdXNlTWVtbzx7IFtpZDogc3RyaW5nXTogc3RyaW5nW10gfT4oKCkgPT4ge1xuICAgIGlmICghZXZlbnRzLmxlbmd0aCkgcmV0dXJuIGV2ZW50SGFzaHRhZ3NSZWYuY3VycmVudDtcbiAgICBjb25zdCBtYXA6IHsgW2lkOiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge307XG4gICAgZXZlbnRzLmZvckVhY2goKGV2OiBhbnkpID0+IHsgbWFwW2V2LmlkXSA9IGV4dHJhY3RIYXNodGFncyhldik7IH0pO1xuICAgIGV2ZW50SGFzaHRhZ3NSZWYuY3VycmVudCA9IG1hcDtcbiAgICByZXR1cm4gbWFwO1xuICB9LCBbZXZlbnRzXSk7XG5cbiAgLy8gSGFzaHRhZyBzZWFyY2ggKE5JUC0xMilcbiAgY29uc3Qgc2VhcmNoSGFzaHRhZyA9IHVzZUNhbGxiYWNrKGFzeW5jICh0YWc6IHN0cmluZykgPT4ge1xuICAgIHNldEhhc2h0YWcodGFnKTtcbiAgICBzZXRIYXNodGFnUmVzdWx0cyhbXSk7XG4gICAgc2V0U2VhcmNoKFwiXCIpO1xuICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgIC8vIE5JUC0xMiBmaWx0ZXJcbiAgICBjb25zdCBmaWx0ZXIgPSB7IGtpbmRzOiBbMV0sIFwiI3RcIjogW3RhZy50b0xvd2VyQ2FzZSgpXSwgbGltaXQ6IDUwIH07XG4gICAgY29uc3QgcG9zdHMgPSBhd2FpdCBxdWVyeVJlbGF5RXZlbnRzKGZpbHRlcik7XG4gICAgc2V0SGFzaHRhZ1Jlc3VsdHMocG9zdHMgfHwgW10pO1xuICB9LCBbXSk7XG5cbiAgLy8gUmVuZGVyIGhhc2h0YWdzIGZvciBhIHBvc3RcbiAgZnVuY3Rpb24gcmVuZGVySGFzaHRhZ3MoZXY6IGFueSkge1xuICAgIGNvbnN0IHRhZ3MgPSBldmVudEhhc2h0YWdzW2V2LmlkXSB8fCBbXTtcbiAgICBpZiAoIXRhZ3MubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMiBtdC0yXCI+XG4gICAgICAgIHt0YWdzLm1hcCh0YWcgPT4gKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGtleT17dGFnfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTQwMCBob3Zlcjp1bmRlcmxpbmUgYmctYmx1ZS05MDAvMjAgcm91bmRlZCBweC0yIHB5LTAuNSB0ZXh0LXhzIGZvbnQtbW9ub1wiXG4gICAgICAgICAgICBvbkNsaWNrPXtlID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgc2VhcmNoSGFzaHRhZyh0YWcpOyB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICN7dGFnfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBFbmhhbmNlZCBmaWx0ZXI6IGZpbHRlciBwb3N0cyBieSB0YWdcbiAgY29uc3QgZmlsdGVyZWRFdmVudHMgPSAoaGFzaHRhZ1Jlc3VsdHMubGVuZ3RoID4gMCA/IGhhc2h0YWdSZXN1bHRzIDogZXZlbnRzKS5maWx0ZXIoZXYgPT4ge1xuICAgIGlmICghZmlsdGVyVGFnKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBDaGVjayBpZiBldmVudCBjb250ZW50IG9yIHRhZ3MgaW5jbHVkZSB0aGUgZmlsdGVyVGFnXG4gICAgY29uc3QgdGFnTWF0Y2ggPSAoZXYuY29udGVudCAmJiBldi5jb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyVGFnLnRvTG93ZXJDYXNlKCkpKTtcbiAgICBjb25zdCB0YWdBcnJheSA9IChldi50YWdzIHx8IFtdKS5tYXAoKHQ6IGFueSkgPT4gdFsxXT8udG9Mb3dlckNhc2U/LigpIHx8IFwiXCIpO1xuICAgIHJldHVybiB0YWdNYXRjaCB8fCB0YWdBcnJheS5pbmNsdWRlcyhmaWx0ZXJUYWcudG9Mb3dlckNhc2UoKSk7XG4gIH0pO1xuXG4gIC8vIFRyZW5kaW5nIGhhc2h0YWdzIGNhbGN1bGF0aW9uXG4gIGNvbnN0IHRyZW5kaW5nSGFzaHRhZ3MgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB0YWdDb3VudHM6IHsgW3RhZzogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBldmVudHMuZm9yRWFjaChldiA9PiB7XG4gICAgICBjb25zdCB0YWdzID0gZXZlbnRIYXNodGFnc1tldi5pZF0gfHwgW107XG4gICAgICB0YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgdGFnQ291bnRzW3RhZ10gPSAodGFnQ291bnRzW3RhZ10gfHwgMCkgKyAxO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gU29ydCBieSBmcmVxdWVuY3ksIGRlc2NlbmRpbmdcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGFnQ291bnRzKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKVxuICAgICAgLnNsaWNlKDAsIDEwKTtcbiAgfSwgW2V2ZW50cywgZXZlbnRIYXNodGFnc10pO1xuXG4gIC8vIEZldGNoIGxpa2UgY291bnRzIGZvciB2aXNpYmxlIHBvc3RzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBvc3RJZHMgPSBmaWx0ZXJlZEV2ZW50cy5tYXAoZXYgPT4gZXYuaWQpO1xuICAgICAgaWYgKHBvc3RJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAvLyBRdWVyeSBmb3Iga2luZCA3IChsaWtlKSBldmVudHMgcmVmZXJlbmNpbmcgdGhlc2UgcG9zdHNcbiAgICAgIGNvbnN0IGxpa2VFdmVudHMgPSBhd2FpdCBxdWVyeVJlbGF5RXZlbnRzKHsga2luZHM6IFs3XSwgJyNlJzogcG9zdElkcywgbGltaXQ6IDEwMDAgfSk7XG4gICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgLy8gQ291bnQgbGlrZXMgcGVyIHBvc3RcbiAgICAgIGNvbnN0IGNvdW50czogeyBbcG9zdElkOiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgICAgY29uc3QgbGlrZWQ6IHsgW3Bvc3RJZDogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG4gICAgICBsaWtlRXZlbnRzPy5mb3JFYWNoKChldjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZklkID0gKGV2LnRhZ3MuZmluZCgodDogYW55KSA9PiB0WzBdID09PSAnZScpIHx8IFtdKVsxXTtcbiAgICAgICAgaWYgKHJlZklkKSB7XG4gICAgICAgICAgY291bnRzW3JlZklkXSA9IChjb3VudHNbcmVmSWRdIHx8IDApICsgMTtcbiAgICAgICAgICBpZiAoZXYucHVia2V5ID09PSBwdWJrZXkpIGxpa2VkW3JlZklkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2V0TGlrZUNvdW50cyhjb3VudHMpO1xuICAgICAgc2V0TGlrZWRQb3N0cyhsaWtlZCk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBpc01vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2ZpbHRlcmVkRXZlbnRzLCBwdWJrZXldKTtcblxuICAvLyBMaWtlIGEgcG9zdCAocHVibGlzaCBraW5kIDcgZXZlbnQpXG4gIGNvbnN0IGhhbmRsZUxpa2UgPSB1c2VDYWxsYmFjayhhc3luYyAocG9zdElkOiBzdHJpbmcsIHBvc3RQdWJrZXk6IHN0cmluZykgPT4ge1xuICAgIGlmICghcHVia2V5IHx8ICF3aW5kb3cubm9zdHIpIHJldHVybjtcbiAgICAvLyBPcHRpbWlzdGljYWxseSB1cGRhdGUgVUlcbiAgICBzZXRMaWtlQ291bnRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IChwcmV2W3Bvc3RJZF0gfHwgMCkgKyAxIH0pKTtcbiAgICBzZXRMaWtlZFBvc3RzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IHRydWUgfSkpO1xuICAgIC8vIEJ1aWxkIGxpa2UgZXZlbnRcbiAgICBjb25zdCBldmVudCA9IHtcbiAgICAgIGtpbmQ6IDcsXG4gICAgICBwdWJrZXksXG4gICAgICBjcmVhdGVkX2F0OiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcbiAgICAgIHRhZ3M6IFtcbiAgICAgICAgW1wiZVwiLCBwb3N0SWRdLFxuICAgICAgICBbXCJwXCIsIHBvc3RQdWJrZXldLFxuICAgICAgXSxcbiAgICAgIGNvbnRlbnQ6IFwiK1wiLFxuICAgICAgc2lnOiBcIlwiLCAvLyBXaWxsIGJlIGZpbGxlZCBieSBleHRlbnNpb25cbiAgICB9O1xuICAgIC8vIFNpZ24gYW5kIHB1Ymxpc2hcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2lnbmVkID0gYXdhaXQgd2luZG93Lm5vc3RyLnNpZ25FdmVudChldmVudCk7XG4gICAgICAvLyBUT0RPOiBQdWJsaXNoIHNpZ25lZCBldmVudCB0byByZWxheVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gUm9sbGJhY2sgb3B0aW1pc3RpYyB1cGRhdGUgb24gZXJyb3JcbiAgICAgIHNldExpa2VDb3VudHMocHJldiA9PiAoeyAuLi5wcmV2LCBbcG9zdElkXTogTWF0aC5tYXgoKHByZXZbcG9zdElkXSB8fCAxKSAtIDEsIDApIH0pKTtcbiAgICAgIHNldExpa2VkUG9zdHMocHJldiA9PiAoeyAuLi5wcmV2LCBbcG9zdElkXTogZmFsc2UgfSkpO1xuICAgIH1cbiAgfSwgW3B1YmtleV0pO1xuXG4gIC8vIEZldGNoIHJlcG9zdCBjb3VudHMgZm9yIHZpc2libGUgcG9zdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcG9zdElkcyA9IGZpbHRlcmVkRXZlbnRzLm1hcChldiA9PiBldi5pZCk7XG4gICAgICBpZiAocG9zdElkcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIC8vIFF1ZXJ5IGZvciBraW5kIDYgKHJlcG9zdCkgZXZlbnRzIHJlZmVyZW5jaW5nIHRoZXNlIHBvc3RzXG4gICAgICBjb25zdCByZXBvc3RFdmVudHMgPSBhd2FpdCBxdWVyeVJlbGF5RXZlbnRzKHsga2luZHM6IFs2XSwgJyNlJzogcG9zdElkcywgbGltaXQ6IDEwMDAgfSk7XG4gICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgLy8gQ291bnQgcmVwb3N0cyBwZXIgcG9zdFxuICAgICAgY29uc3QgY291bnRzOiB7IFtwb3N0SWQ6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gICAgICBjb25zdCByZXBvc3RlZDogeyBbcG9zdElkOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICAgIHJlcG9zdEV2ZW50cz8uZm9yRWFjaCgoZXY6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCByZWZJZCA9IChldi50YWdzLmZpbmQoKHQ6IGFueSkgPT4gdFswXSA9PT0gJ2UnKSB8fCBbXSlbMV07XG4gICAgICAgIGlmIChyZWZJZCkge1xuICAgICAgICAgIGNvdW50c1tyZWZJZF0gPSAoY291bnRzW3JlZklkXSB8fCAwKSArIDE7XG4gICAgICAgICAgaWYgKGV2LnB1YmtleSA9PT0gcHVia2V5KSByZXBvc3RlZFtyZWZJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNldFJlcG9zdENvdW50cyhjb3VudHMpO1xuICAgICAgc2V0UmVwb3N0ZWRQb3N0cyhyZXBvc3RlZCk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gKCkgPT4geyBpc01vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2ZpbHRlcmVkRXZlbnRzLCBwdWJrZXldKTtcblxuICAvLyBSZXBvc3QgYSBwb3N0IChwdWJsaXNoIGtpbmQgNiBldmVudClcbiAgY29uc3QgaGFuZGxlUmVwb3N0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBvc3RJZDogc3RyaW5nLCBwb3N0UHVia2V5OiBzdHJpbmcsIHBvc3RDb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXB1YmtleSB8fCAhd2luZG93Lm5vc3RyKSByZXR1cm47XG4gICAgLy8gT3B0aW1pc3RpY2FsbHkgdXBkYXRlIFVJXG4gICAgc2V0UmVwb3N0Q291bnRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IChwcmV2W3Bvc3RJZF0gfHwgMCkgKyAxIH0pKTtcbiAgICBzZXRSZXBvc3RlZFBvc3RzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IHRydWUgfSkpO1xuICAgIC8vIEJ1aWxkIHJlcG9zdCBldmVudFxuICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAga2luZDogNixcbiAgICAgIHB1YmtleSxcbiAgICAgIGNyZWF0ZWRfYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLFxuICAgICAgdGFnczogW1xuICAgICAgICBbXCJlXCIsIHBvc3RJZF0sXG4gICAgICAgIFtcInBcIiwgcG9zdFB1YmtleV0sXG4gICAgICBdLFxuICAgICAgY29udGVudDogcG9zdENvbnRlbnQsXG4gICAgICBzaWc6IFwiXCIsIC8vIFdpbGwgYmUgZmlsbGVkIGJ5IGV4dGVuc2lvblxuICAgIH07XG4gICAgLy8gU2lnbiBhbmQgcHVibGlzaFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzaWduZWQgPSBhd2FpdCB3aW5kb3cubm9zdHIuc2lnbkV2ZW50KGV2ZW50KTtcbiAgICAgIC8vIFRPRE86IFB1Ymxpc2ggc2lnbmVkIGV2ZW50IHRvIHJlbGF5XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBSb2xsYmFjayBvcHRpbWlzdGljIHVwZGF0ZSBvbiBlcnJvclxuICAgICAgc2V0UmVwb3N0Q291bnRzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IE1hdGgubWF4KChwcmV2W3Bvc3RJZF0gfHwgMSkgLSAxLCAwKSB9KSk7XG4gICAgICBzZXRSZXBvc3RlZFBvc3RzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Bvc3RJZF06IGZhbHNlIH0pKTtcbiAgICB9XG4gIH0sIFtwdWJrZXldKTtcblxuICAvLyBVcGRhdGUgcmVuZGVyTWVkaWFXaXRoUHJldmlldyB0byBhY2NlcHQgc2V0TGlnaHRib3hNZWRpYSBhcyBhIHByb3BcbiAgZnVuY3Rpb24gcmVuZGVyTWVkaWFXaXRoUHJldmlldyhtZWRpYTogc3RyaW5nW10sIGxpbmtQcmV2aWV3czogeyBbdXJsOiBzdHJpbmddOiBMaW5rUHJldmlldyB8IG51bGwgfSwgc2V0TGlnaHRib3hNZWRpYTogKHVybDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgaWYgKCFtZWRpYSB8fCBtZWRpYS5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGltYWdlcyA9IG1lZGlhLmZpbHRlcih1cmwgPT4gdXJsLm1hdGNoKC9cXC4oanBlZ3xqcGd8Z2lmfHBuZykkL2kpKTtcbiAgICAvLyBEZXRlY3QgWW91VHViZSBhbmQgU291bmRDbG91ZCBsaW5rc1xuICAgIGNvbnN0IHlvdVR1YmVSZWdleCA9IC8oPzp5b3V0dWJlXFwuY29tXFwvd2F0Y2hcXD92PXx5b3V0dVxcLmJlXFwvKVtcXHctXSsvaTtcbiAgICBjb25zdCBzb3VuZENsb3VkUmVnZXggPSAvc291bmRjbG91ZFxcLmNvbVxcLy9pO1xuICAgIGNvbnN0IHZpZGVvcyA9IG1lZGlhLmZpbHRlcih1cmwgPT4gdXJsLm1hdGNoKC9cXC4obXA0fHdlYm0pJC9pKSB8fCB5b3VUdWJlUmVnZXgudGVzdCh1cmwpKTtcbiAgICBjb25zdCBhdWRpb3MgPSBtZWRpYS5maWx0ZXIodXJsID0+IHVybC5tYXRjaCgvXFwuKG1wM3x3YXZ8b2dnKSQvaSkgfHwgc291bmRDbG91ZFJlZ2V4LnRlc3QodXJsKSk7XG4gICAgY29uc3QgbWVkaWFTZXQgPSBuZXcgU2V0KFsuLi5pbWFnZXMsIC4uLnZpZGVvcywgLi4uYXVkaW9zXSk7XG4gICAgY29uc3QgbGlua3MgPSBtZWRpYS5maWx0ZXIodXJsID0+ICFtZWRpYVNldC5oYXModXJsKSAmJiAhdXJsLm1hdGNoKC9cXC4oanBlZ3xqcGd8Z2lmfHBuZ3xtcDR8d2VibXxtcDN8d2F2fG9nZykkL2kpICYmICF5b3VUdWJlUmVnZXgudGVzdCh1cmwpICYmICFzb3VuZENsb3VkUmVnZXgudGVzdCh1cmwpKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yIG10LTJcIj5cbiAgICAgICAge2ltYWdlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyaWQgZ2FwLTIgJHtpbWFnZXMubGVuZ3RoID09PSAxID8gXCJncmlkLWNvbHMtMVwiIDogaW1hZ2VzLmxlbmd0aCA9PT0gMiA/IFwiZ3JpZC1jb2xzLTJcIiA6IFwiZ3JpZC1jb2xzLTJcIn1gfT5cbiAgICAgICAgICAgIHtpbWFnZXMuc2xpY2UoMCwgNCkubWFwKCh1cmwsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAvLyBSZXBsYWNlIGlubGluZSBzdHlsZSB3aXRoIFRhaWx3aW5kIGZvciBpbWFnZVxuICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAga2V5PXtpZHh9XG4gICAgICAgICAgICAgICAgc3JjPXt1cmx9XG4gICAgICAgICAgICAgICAgYWx0PVwibWVkaWFcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQteGwgb2JqZWN0LWNvdmVyIGJvcmRlciBib3JkZXItZ3JheS04MDAgYmctYmxhY2sgdy1mdWxsIGgtNjAgY3Vyc29yLXBvaW50ZXIgYXNwZWN0LXNxdWFyZSBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBzZXRMaWdodGJveE1lZGlhKHVybCk7IH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgeyh2aWRlb3MubGVuZ3RoID4gMCB8fCBhdWRpb3MubGVuZ3RoID4gMCkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMlwiPlxuICAgICAgICAgICAge1suLi52aWRlb3MsIC4uLmF1ZGlvc10ubWFwKCh1cmwsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxNZWRpYVBsYXllciB1cmw9e3VybH0gY2xhc3NOYW1lPVwicm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWdyYXktODAwIGJnLWJsYWNrIHctZnVsbCBzaGFkb3ctbGdcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMiBiZy1ibGFjay82MCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgIHt1cmwubWF0Y2goL1xcLihtcDR8d2VibSkkL2kpIHx8IHlvdVR1YmVSZWdleC50ZXN0KHVybCkgPyBcIlZpZGVvXCIgOiBcIkF1ZGlvXCJ9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7bGlua3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XG4gICAgICAgICAgICB7bGlua3MubWFwKCh1cmwsIGlkeCkgPT5cbiAgICAgICAgICAgICAgbGlua1ByZXZpZXdzW3VybF0gPyAoXG4gICAgICAgICAgICAgICAgbGlua1ByZXZpZXdzW3VybF0gJiYgcmVuZGVyTGlua1ByZXZpZXcobGlua1ByZXZpZXdzW3VybF0hKVxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICAgIGhyZWY9e3VybH1cbiAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS00MDAgdW5kZXJsaW5lIGJyZWFrLWFsbCBob3Zlcjp0ZXh0LWJsdWUtMzAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dXJsfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBQcm9maWxlRHJvcGRvd24oeyBjaGlsZHJlbiwgbWVudSB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUsIG1lbnU6IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gICAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gICAgLy8gQ2xvc2UgZHJvcGRvd24gb24gb3V0c2lkZSBjbGlja1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChyZWYuY3VycmVudCAmJiAhcmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHNldE9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKG9wZW4pIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2spO1xuICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xpY2spO1xuICAgIH0sIFtvcGVuXSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIiByZWY9e3JlZn0+XG4gICAgICAgIHsvKiBSZXBsYWNlIGlubGluZSBzdHlsZSB3aXRoIFRhaWx3aW5kIGZvciBQcm9maWxlRHJvcGRvd24gY2xpY2thYmxlIGRpdiAqL31cbiAgICAgICAgPGRpdiBvbkNsaWNrPXsoKSA9PiBzZXRPcGVuKHYgPT4gIXYpfSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtvcGVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCBtdC0yIHotMjAgYmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTgwMCByb3VuZGVkLXhsIHNoYWRvdy1sZyBtaW4tdy1bMTIwcHhdIHAtMiBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICB7bWVudX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiB1c2VHbG9iYWxOb3N0clBvc3RDb3VudCgpIHtcbiAgICBjb25zdCBbdG90YWxDb3VudCwgc2V0VG90YWxDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBmZXRjaENvdW50ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEdldCBoZWFsdGh5IHJlbGF5c1xuICAgICAgICAgIGNvbnN0IHsgaGVhbHRoeVJlbGF5cyB9ID0gYXdhaXQgZ2V0SGVhbHRoeVJlbGF5cygpO1xuICAgICAgICAgIC8vIEZldGNoIGEgbGFyZ2UgbnVtYmVyIG9mIGV2ZW50cyBhbmQgZGVkdXBsaWNhdGUgYnkgaWQgZm9yIGFuIGVzdGltYXRlXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hOb3N0ckZlZWQoaGVhbHRoeVJlbGF5cywge1xuICAgICAgICAgICAgbGltaXQ6IDEwMDAsIC8vIEZldGNoIHVwIHRvIDEwMDAgZXZlbnRzIGZvciBlc3RpbWF0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gRGVkdXBsaWNhdGUgYnkgZXZlbnQgaWRcbiAgICAgICAgICBjb25zdCB1bmlxdWVJZHMgPSBuZXcgU2V0KChyZXN1bHQgfHwgW10pLm1hcChldiA9PiBldi5pZCkpO1xuICAgICAgICAgIHNldFRvdGFsQ291bnQodW5pcXVlSWRzLnNpemUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgc2V0VG90YWxDb3VudChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGZldGNoQ291bnQoKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gdG90YWxDb3VudDtcbiAgfVxuXG4gIC8vIEZldGNoIE5PU1RSIEJhbmQgc3RhdHMgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gUmVtb3ZlIGZldGNoTm9zdHJCYW5kU3RhdHMgdXNhZ2Ugb3IgcmVwbGFjZSB3aXRoIGNvcnJlY3QgaW1wbGVtZW50YXRpb24gaWYgbmVlZGVkXG4gICAgc2V0TG9hZGluZ1N0YXRzKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIC8vIE9wZW4gcHJvZmlsZSBwYW5lIHdpdGggYSBnaXZlbiBwdWJrZXlcbiAgY29uc3Qgb3BlblByb2ZpbGVQYW5lID0gKHB1YmtleTogc3RyaW5nKSA9PiB7XG4gICAgc2V0UHJvZmlsZVBhbmVQdWJrZXkocHVia2V5KTtcbiAgICBzZXRBY3RpdmVQYW5lKFwicHJvZmlsZVwiKTtcbiAgICBzZXRTaWRlUGFuZUNvbXBvbmVudChudWxsKTsgLy8gV2lsbCBiZSBzZXQgaW4gdXNlRWZmZWN0XG4gIH07XG5cbiAgLy8gRHluYW1pYyBpbXBvcnQgbG9naWMgZm9yIHNpZGUgcGFuZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aXZlUGFuZSkge1xuICAgICAgc2V0U2lkZVBhbmVDb21wb25lbnQobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBjb21wb25lbnQ6IFJlYWN0LlJlYWN0Tm9kZSA9IG51bGw7XG4gICAgaWYgKGFjdGl2ZVBhbmUgPT09IFwiZXhwbG9yZVwiKSB7XG4gICAgICBjb21wb25lbnQgPSA8RXhwbG9yZVBhZ2UgLz47XG4gICAgfSBlbHNlIGlmIChhY3RpdmVQYW5lID09PSBcIndhbGxldFwiKSB7XG4gICAgICBjb21wb25lbnQgPSA8V2FsbGV0UGFnZSAvPjtcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZVBhbmUgPT09IFwiY2hhdFwiKSB7XG4gICAgICBjb21wb25lbnQgPSA8Q2hhdFBhZ2UgLz47XG4gICAgfSBlbHNlIGlmIChhY3RpdmVQYW5lID09PSBcInByb2ZpbGVcIiAmJiBwcm9maWxlUGFuZVB1YmtleSkge1xuICAgICAgY29tcG9uZW50ID0gPFByb2ZpbGVQYWdlIHVzZXJPdmVycmlkZT17cHJvZmlsZVBhbmVQdWJrZXl9IG9uQ2xvc2U9eygpID0+IHNldEFjdGl2ZVBhbmUobnVsbCl9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQbGFjZWhvbGRlciBmb3Igb3RoZXIgcGFuZXNcbiAgICAgIGNvbXBvbmVudCA9IDxkaXYgY2xhc3NOYW1lPVwicC04IHRleHQtd2hpdGVcIj5Db21pbmcgc29vbi4uLjwvZGl2PjtcbiAgICB9XG4gICAgc2V0U2lkZVBhbmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfSwgW2FjdGl2ZVBhbmUsIHByb2ZpbGVQYW5lUHVia2V5XSk7XG5cbiAgLy8gLS0tIExheW91dCBSZWZhY3RvciBTdGFydCAtLS1cbiAgLy8gUmVsYXkgaGVhbHRoIHN0YXRlXG4gIGNvbnN0IFtoZWFsdGh5UmVsYXlDb3VudCwgc2V0SGVhbHRoeVJlbGF5Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjaGVja2luZ1JlbGF5cywgc2V0Q2hlY2tpbmdSZWxheXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICBhc3luYyBmdW5jdGlvbiBjaGVja1JlbGF5cygpIHtcbiAgICAgIHNldENoZWNraW5nUmVsYXlzKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBoZWFsdGh5UmVsYXlzIH0gPSBhd2FpdCBnZXRIZWFsdGh5UmVsYXlzKCk7XG4gICAgICAgIGlmIChtb3VudGVkKSBzZXRIZWFsdGh5UmVsYXlDb3VudChoZWFsdGh5UmVsYXlzLmxlbmd0aCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldEhlYWx0aHlSZWxheUNvdW50KG51bGwpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKG1vdW50ZWQpIHNldENoZWNraW5nUmVsYXlzKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tSZWxheXMoKTtcbiAgICAvLyBPcHRpb25hbGx5LCByZS1jaGVjayBldmVyeSAyIG1pbnV0ZXNcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGNoZWNrUmVsYXlzLCAxMjAwMDApO1xuICAgIHJldHVybiAoKSA9PiB7IG1vdW50ZWQgPSBmYWxzZTsgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7IH07XG4gIH0sIFtdKTtcblxuICAvLyAtLS0gTGF5b3V0IFJlZmFjdG9yIFN0YXJ0IC0tLVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHctZnVsbCBiZy1ibGFjayBmbGV4IGZsZXgtcm93XCI+XG4gICAgICB7LyogTGVmdCBTaWRlYmFyIChmaXhlZCkgKi99XG4gICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiaGlkZGVuIG1kOmZsZXggZmxleC1jb2wgdy1bODBweF0geGw6dy1bMjQwcHhdIGgtc2NyZWVuIHN0aWNreSB0b3AtMCBsZWZ0LTAgei0zMCBib3JkZXItciBib3JkZXItZ3JheS04MDAgYmctZ3JheS05NTBcIj5cbiAgICAgICAgPFNpZGViYXIgb25OYXY9e2hhbmRsZU5hdn0gYWN0aXZlUGFuZT17YWN0aXZlUGFuZX0gLz5cbiAgICAgIDwvYXNpZGU+XG5cbiAgICAgIHsvKiBDZW50ZXJlZCBjb250ZW50IGdyb3VwOiBGZWVkICsgU2lkZSBQYW5lICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBmbGV4LXJvdyB3LWZ1bGwgbWF4LXctW2NhbGMoMTAwdnctNDAwcHgpXSB4bDptYXgtdy1bY2FsYygxMDB2dy00MDBweCldIDJ4bDptYXgtdy1bMTgwMHB4XSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHthY3RpdmVQYW5lICYmIHNpZGVQYW5lQ29tcG9uZW50ID8gXCJnYXAtOFwiIDogXCJcIn0ganVzdGlmeS1jZW50ZXJgfVxuICAgICAgICA+XG4gICAgICAgICAgey8qIE1haW4gRmVlZCAoY2VudGVyZWQsIGJ1dCBzaGlmdHMgbGVmdCBpZiBzaWRlIHBhbmUgaXMgb3BlbikgKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIG1heC13LTJ4bCBweC0yIHNtOnB4LTYgcHktOCBiZy1ncmF5LTk1MCBib3JkZXIgYm9yZGVyLWdyYXktODAwIHNoYWRvdy14bCByb3VuZGVkLXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBmbGV4LXNocmluay0wICR7YWN0aXZlUGFuZSAmJiBzaWRlUGFuZUNvbXBvbmVudCA/IFwiXCIgOiBcIm14LWF1dG9cIn0gb3ZlcmZsb3cteS1hdXRvIGgtW2NhbGMoMTAwdmgtMzJweCldYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7LyogU2VhcmNoIGFuZCBGaWx0ZXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2h9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldFNlYXJjaEZvY3VzZWQodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHVzZXJzIGJ5IG5hbWUsIHVzZXJuYW1lLCBvciBucHViLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiByb3VuZGVkLWZ1bGwgYmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCB0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMC8zMCBmb2N1czpib3JkZXItYmx1ZS01MDAvMzAgcGxhY2Vob2xkZXItZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtbC0wIHNtOm1sLTIgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWJsdWUtNTAwIHRleHQtYmx1ZS00MDAgYmctYmx1ZS05MDAvMjAgaG92ZXI6YmctYmx1ZS05MDAvNDAgdHJhbnNpdGlvbiBmb250LXNlbWlib2xkICR7c2hvd0ZpbHRlciA/ICdyaW5nLTIgcmluZy1ibHVlLTQwMCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0ZpbHRlcih2ID0+ICF2KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2hvd0ZpbHRlciA/ICdIaWRlIEZpbHRlcnMnIDogJ0ZpbHRlciBieSBUYWcnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3Nob3dGaWx0ZXIgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ZpbHRlclRhZ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0RmlsdGVyVGFnKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB0YWcgKGUuZy4gYml0Y29pbiwgbm9zdHIsIGFpKVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLWZ1bGwgYmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCB0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMC8zMCBmb2N1czpib3JkZXItYmx1ZS01MDAvMzAgcGxhY2Vob2xkZXItZ3JheS01MDAgdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkLWZ1bGwgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTYwMCB0cmFuc2l0aW9uIGZvbnQtc2VtaWJvbGRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRGaWx0ZXJUYWcoXCJcIil9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi02XCI+XG4gICAgICAgICAgICAgICAgey8qIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5SQVcuUk9DS1M8L2gxPiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgeyFwdWJrZXkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17bG9naW59XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWJsdWUtNjAwIHNoYWRvdy1sZyBzaGFkb3ctYmx1ZS01MDAvMjAgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBMb2dpbiB3aXRoIE5PU1RSXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgICAgey8qIEdsb2JhbCBQb3N0IENvdW50ICovfVxuICAgICAgICAgICAgICB7Z2xvYmFsUG9zdENvdW50ICE9PSBudWxsID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIG1iLTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIPCfjI4gR2xvYmFsIE5vc3RyIFBvc3RzOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGRcIj57Z2xvYmFsUG9zdENvdW50LnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIG1iLTIgdGV4dC1jZW50ZXJcIj5Mb2FkaW5nIGdsb2JhbCBwb3N0IGNvdW50Li4uPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIFJlbGF5IEhlYWx0aCBXYXJuaW5nICovfVxuICAgICAgICAgICAgICB7aGVhbHRoeVJlbGF5Q291bnQgIT09IG51bGwgJiYgaGVhbHRoeVJlbGF5Q291bnQgPCAzICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIHJvdW5kZWQteGwgYmcteWVsbG93LTkwMC84MCBib3JkZXIgYm9yZGVyLXllbGxvdy02MDAgdGV4dC15ZWxsb3ctMjAwIHRleHQtY2VudGVyIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+4pqg77iPIExvdyByZWxheSBjb25uZWN0aXZpdHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5Pbmx5IHtoZWFsdGh5UmVsYXlDb3VudH0gaGVhbHRoeSByZWxheXtoZWFsdGh5UmVsYXlDb3VudCA9PT0gMSA/ICcnIDogJ3MnfSBkZXRlY3RlZC4gU29tZSBwb3N0cyBtYXkgYmUgbWlzc2luZyBvciBkZWxheWVkLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSBweC0zIHB5LTEgcm91bmRlZCBiZy15ZWxsb3ctNzAwIHRleHQtd2hpdGUgaG92ZXI6YmcteWVsbG93LTgwMCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0SGVhbHRoeVJlbGF5Q291bnQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2hlY2tpbmdSZWxheXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0SGVhbHRoeVJlbGF5cygpLnRoZW4oKHsgaGVhbHRoeVJlbGF5cyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRIZWFsdGh5UmVsYXlDb3VudChoZWFsdGh5UmVsYXlzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDaGVja2luZ1JlbGF5cyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gc2V0Q2hlY2tpbmdSZWxheXMoZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2NoZWNraW5nUmVsYXlzfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7Y2hlY2tpbmdSZWxheXMgPyAnQ2hlY2tpbmcuLi4nIDogJ1JldHJ5IFJlbGF5cyd9XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogUG9zdCBGZWVkICovfVxuICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNlwiPlxuICAgICAgICAgICAgICB7LyogRXJyb3IgU3RhdGUgKi99XG4gICAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgICAgPEVycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgbWVzc2FnZT17ZXJyb3J9XG4gICAgICAgICAgICAgICAgICByZWxheVN0YXRzPXtyZWxheVN0YXRzfVxuICAgICAgICAgICAgICAgICAgb25SZXRyeT17KCkgPT4gZmV0Y2hFdmVudHMoKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xlYXJSZWxheXM9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJCYWRSZWxheUNhY2hlKCk7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIEVtcHR5IFN0YXRlICovfVxuICAgICAgICAgICAgICB7ZXZlbnRzLmxlbmd0aCA9PT0gMCAmJiAhaXNMb2FkaW5nTW9yZSAmJiAhZXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBweS0xMlwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNFwiPk5vIHBvc3RzIHlldC4gQmUgdGhlIGZpcnN0IHRvIHBvc3QhPC9wPlxuICAgICAgICAgICAgICAgICAgeyFwdWJrZXkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17bG9naW59XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0yIGJnLWJsdWUtNTAwLzIwIGhvdmVyOmJnLWJsdWUtNTAwLzMwIHJvdW5kZWQtZnVsbCB0ZXh0LWJsdWUtNDAwIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ29ubmVjdCB3aXRoIE5PU1RSIHRvIFBvc3RcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBQb3N0cyAqL31cbiAgICAgICAgICAgICAge2ZpbHRlcmVkRXZlbnRzLm1hcCgoZXYsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAga2V5PXtldi5pZH1cbiAgICAgICAgICAgICAgICAgIHJlZj17aGFzaHRhZ1Jlc3VsdHMubGVuZ3RoID09PSAwICYmIGluZGV4ID09PSBldmVudHMubGVuZ3RoIC0gMSA/IGxhc3RQb3N0UmVmIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ2hhdFBvc3RJZCA9PT0gZXYuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYXRDbG9zZShldi5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDaGF0UG9zdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNoYXRDbG9zZShhY3RpdmVDaGF0UG9zdElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRBY3RpdmVDaGF0UG9zdElkKGV2LmlkKSwgMzAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUNoYXRQb3N0SWQoZXYuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctZ3JheS05MDAvNDAgYmFja2Ryb3AtYmx1ci1zbSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHJvdW5kZWQteGwgcC01IHNoYWRvdy1sZyBmbGV4IGZsZXgtY29sIGdhcC0yIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gaG92ZXI6YmctZ3JheS05MDAvNjAgaG92ZXI6Ym9yZGVyLXdoaXRlLzIwICR7YWN0aXZlQ2hhdFBvc3RJZCA9PT0gZXYuaWQgPyAncm91bmRlZC1iLW5vbmUgYm9yZGVyLWItMCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7LyogUG9zdCBoZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxQcm9maWxlRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnU9e3B1YmtleSAmJiBldi5wdWJrZXkgIT09IHB1YmtleSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGb2xsb3dpbmcoZXYucHVia2V5KSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHB4LTMgcHktMSByb3VuZGVkIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgdGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTcwMCB3LWZ1bGwgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHVuZm9sbG93VXNlcihldi5wdWJrZXkpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5VbmZvbGxvdzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMyBweS0xIHJvdW5kZWQgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTYwMCB3LWZ1bGwgdGV4dC1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGZvbGxvd1VzZXIoZXYucHVia2V5KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+Rm9sbG93PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtldi5wcm9maWxlPy5waWN0dXJlIHx8IFwiL2ZpbGUuc3ZnXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cImF2YXRhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ncmF5LTgwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvUHJvZmlsZURyb3Bkb3duPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogUmVtb3ZlIGlubGluZSBzdHlsZSBmcm9tIGJ1dHRvbiBpbiBwb3N0IGhlYWRlciwgdXNlIFRhaWx3aW5kIGZvciByZXNldCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSB0cnVuY2F0ZSBob3Zlcjp1bmRlcmxpbmUgdGV4dC1sZWZ0IG91dGxpbmUtbm9uZSBiZy10cmFuc3BhcmVudCBib3JkZXItMCBwLTAgbS0wIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuUHJvZmlsZVBhbmUoZXYucHVia2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BPcGVuIHByb2ZpbGUgZm9yICR7ZXYucHJvZmlsZT8uZGlzcGxheV9uYW1lIHx8IGV2LnByb2ZpbGU/Lm5hbWUgfHwgZXYucHJvZmlsZT8udXNlcm5hbWUgfHwgZXYucHVia2V5fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtldi5wcm9maWxlPy5kaXNwbGF5X25hbWUgfHwgZXYucHJvZmlsZT8ubmFtZSB8fCBldi5wcm9maWxlPy51c2VybmFtZSB8fCBldi5wdWJrZXkuc2xpY2UoMCwgOCkgKyBcIi4uLlwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQHtldi5wcm9maWxlPy5uYW1lIHx8IGV2LnByb2ZpbGU/LnVzZXJuYW1lIHx8IChldi5wcm9maWxlPy5wdWJrZXkgPyBgJHtldi5wcm9maWxlLnB1YmtleS5zbGljZSgwLCA2KX0uLi4ke2V2LnByb2ZpbGUucHVia2V5LnNsaWNlKC00KX1gIDogZXYucHVia2V5LnNsaWNlKDAsIDYpICsgJy4uLicgKyBldi5wdWJrZXkuc2xpY2UoLTQpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj57cmVsYXRpdmVUaW1lKGV2LmNyZWF0ZWRfYXQpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCIgLz5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDaGF0IGNvdW50IGJhZGdlICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtjaGF0Q291bnRzW2V2LmlkXSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAwLzEwIHRleHQtYmx1ZS00MDAgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7wn5KsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hhdENvdW50c1tldi5pZF19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogUG9zdCBjb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgdGV4dC13aGl0ZSB3aGl0ZXNwYWNlLXByZS1saW5lIGJyZWFrLXdvcmRzIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Tm9zdHJBZGRyZXNzZXMoZXYuY29udGVudCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTWVkaWFXaXRoUHJldmlldyhldi5tZWRpYSwgbGlua1ByZXZpZXdzLCBzZXRMaWdodGJveE1lZGlhKX1cbiAgICAgICAgICAgICAgICAgICAge3JlbmRlckhhc2h0YWdzKGV2KX1cblxuICAgICAgICAgICAgICAgICAgICB7LyogUG9zdCBhY3Rpb25zICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTYgbXQtMiB0ZXh0LXNtIHRleHQtZ3JheS00MDAgYm9yZGVyLXQgYm9yZGVyLWdyYXktODAwIHB0LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRyYW5zaXRpb24gJHthY3RpdmVDaGF0UG9zdElkID09PSBldi5pZCA/ICd0ZXh0LWJsdWUtNDAwJyA6ICdob3Zlcjp0ZXh0LWJsdWUtNDAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfkqw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGF0e2NoYXRDb3VudHNbZXYuaWRdID4gMCA/IGAgKCR7Y2hhdENvdW50c1tldi5pZF19KWAgOiAnJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgaG92ZXI6dGV4dC1waW5rLTQwMCB0cmFuc2l0aW9uICR7bGlrZWRQb3N0c1tldi5pZF0gPyAndGV4dC1waW5rLTQwMCBmb250LWJvbGQnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBpZiAoIWxpa2VkUG9zdHNbZXYuaWRdKSBoYW5kbGVMaWtlKGV2LmlkLCBldi5wdWJrZXkpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhbGlrZWRQb3N0c1tldi5pZF19XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtsaWtlZFBvc3RzW2V2LmlkXSA/ICdMaWtlZCcgOiAnTGlrZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7inaTvuI88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5MaWtle2xpa2VDb3VudHNbZXYuaWRdID8gYCAoJHtsaWtlQ291bnRzW2V2LmlkXX0pYCA6ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBob3Zlcjp0ZXh0LWdyZWVuLTQwMCB0cmFuc2l0aW9uICR7cmVwb3N0ZWRQb3N0c1tldi5pZF0gPyAndGV4dC1ncmVlbi00MDAgZm9udC1ib2xkJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaWYgKCFyZXBvc3RlZFBvc3RzW2V2LmlkXSkgaGFuZGxlUmVwb3N0KGV2LmlkLCBldi5wdWJrZXksIGV2LmNvbnRlbnQpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhcmVwb3N0ZWRQb3N0c1tldi5pZF19XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtyZXBvc3RlZFBvc3RzW2V2LmlkXSA/ICdSZXBvc3RlZCcgOiAnUmVwb3N0J31cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCflIE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5SZXBvc3R7cmVwb3N0Q291bnRzW2V2LmlkXSA/IGAgKCR7cmVwb3N0Q291bnRzW2V2LmlkXX0pYCA6ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgey8qIENoYXQgYm94IGJlbG93IHBvc3QgKi99XG4gICAgICAgICAgICAgICAgICB7YWN0aXZlQ2hhdFBvc3RJZCA9PT0gZXYuaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8Q2hhdEJveFxuICAgICAgICAgICAgICAgICAgICAgIHBvc3RJZD17ZXYuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgcHVia2V5PXtwdWJrZXl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gaGFuZGxlQ2hhdENsb3NlKGV2LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBpc0FuaW1hdGluZz17Y2xvc2luZ0NoYXRJZCA9PT0gZXYuaWR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgey8qIExvYWRpbmcgU3RhdGUgKi99XG4gICAgICAgICAgICAgIHtpc0xvYWRpbmdNb3JlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNTAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtZ3JheS00MDAgdGV4dC1zbVwiPkxvYWRpbmcgbW9yZSBwb3N0cy4uLjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogRW5kIG9mIEZlZWQgKi99XG4gICAgICAgICAgICAgIHshaGFzTW9yZSAmJiBldmVudHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFlvdSd2ZSByZWFjaGVkIHRoZSBlbmQhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIFJldHJ5IFN0YXRlICovfVxuICAgICAgICAgICAgICB7cmV0cnlDb3VudCA+IDAgJiYgIWlzTG9hZGluZ01vcmUgJiYgaGFzTW9yZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00XCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIG1iLTJcIj5GYWlsZWQgdG8gbG9hZCBtb3JlIHBvc3RzPC9wPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkZXN0RXZlbnQgPSBldmVudHNbZXZlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRlc3RFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nTW9yZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoRXZlbnRzKHsgdW50aWw6IG9sZGVzdEV2ZW50LmNyZWF0ZWRfYXQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oaGFzTmV3RXZlbnRzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIYXNNb3JlKGhhc05ld0V2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nTW9yZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmV0cnlDb3VudCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0xvYWRpbmdNb3JlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXRyeUNvdW50KHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTUwMC8yMCBob3ZlcjpiZy1ibHVlLTUwMC8zMCByb3VuZGVkLWZ1bGwgdGV4dC1zbSB0cmFuc2l0aW9uXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgVHJ5IEFnYWluXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBEeW5hbWljIFNpZGUgUGFuZSAoRXhwbG9yZSwgV2FsbGV0LCBDaGF0LCBQcm9maWxlLCBldGMuKSAqL31cbiAgICAgICAgICB7YWN0aXZlUGFuZSAmJiBzaWRlUGFuZUNvbXBvbmVudCAmJiAoXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJoaWRkZW4gbGc6YmxvY2sgdy1mdWxsIG1heC13LTJ4bCBweC0yIHNtOnB4LTYgcHktOCBiZy1ncmF5LTk1MCBib3JkZXIgYm9yZGVyLWdyYXktODAwIHNoYWRvdy14bCByb3VuZGVkLXhsIG92ZXJmbG93LXktYXV0byByZWxhdGl2ZSBhbmltYXRlLXNsaWRlLWluLWxlZnQgZmxleC1zaHJpbmstMCBoLVtjYWxjKDEwMHZoLTMycHgpXVwiPlxuICAgICAgICAgICAgICB7c2lkZVBhbmVDb21wb25lbnR9XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFJpZ2h0IFNpZGViYXIgKGZpeGVkKSAqL31cbiAgICAgIDxhc2lkZSBjbGFzc05hbWU9XCJoaWRkZW4geGw6ZmxleCBmbGV4LWNvbCB3LVszMjBweF0gaC1zY3JlZW4gc3RpY2t5IHRvcC0wIHJpZ2h0LTAgei0zMCBib3JkZXItbCBib3JkZXItZ3JheS04MDAgYmctZ3JheS05NTBcIj5cbiAgICAgICAgPFJpZ2h0U2lkZWJhciB0cmVuZGluZ0hhc2h0YWdzPXt0cmVuZGluZ0hhc2h0YWdzfSBzZWFyY2hIYXNodGFnPXtzZWFyY2hIYXNodGFnfSAvPlxuICAgICAgPC9hc2lkZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VOb3N0ciIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwiZmV0Y2hMaW5rUHJldmlldyIsIkNoYXRCb3giLCJDcmVhdGVQb3N0IiwiRXJyb3JNZXNzYWdlIiwiTWVkaWFQbGF5ZXIiLCJnZXRIZWFsdGh5UmVsYXlzIiwiZmV0Y2hOb3N0ckZlZWQiLCJjbGVhckJhZFJlbGF5Q2FjaGUiLCJTaW1wbGVQb29sIiwiUHJvZmlsZVBhZ2UiLCJFeHBsb3JlUGFnZSIsIldhbGxldFBhZ2UiLCJDaGF0UGFnZSIsIlNpZGViYXIiLCJSaWdodFNpZGViYXIiLCJyZWxhdGl2ZVRpbWUiLCJ0aW1lc3RhbXAiLCJub3ciLCJEYXRlIiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInJlbmRlckxpbmtQcmV2aWV3IiwicHJldmlldyIsImEiLCJocmVmIiwidXJsIiwidGFyZ2V0IiwicmVsIiwiY2xhc3NOYW1lIiwiaW1hZ2UiLCJpbWciLCJzcmMiLCJhbHQiLCJ0aXRsZSIsImRpdiIsInNpdGVOYW1lIiwiZmF2aWNvbiIsImRlc2NyaXB0aW9uIiwiZm9ybWF0Tm9zdHJBZGRyZXNzZXMiLCJ0ZXh0Iiwibm9zdHJSZWdleCIsInNwbGl0IiwibWFwIiwicGFydCIsImkiLCJtYXRjaCIsInF1ZXJ5UmVsYXlFdmVudHMiLCJmaWx0ZXIiLCJoZWFsdGh5UmVsYXlzIiwicG9vbCIsInF1ZXJ5U3luYyIsImNsb3NlIiwiSG9tZSIsInB1YmtleSIsImV2ZW50cyIsImVycm9yIiwibG9naW4iLCJmZXRjaEV2ZW50cyIsInBvc3QiLCJmb2xsb3dVc2VyIiwidW5mb2xsb3dVc2VyIiwiaXNGb2xsb3dpbmciLCJyZWxheVN0YXRzIiwiY29udGVudCIsInNldENvbnRlbnQiLCJsaW5rUHJldmlld3MiLCJzZXRMaW5rUHJldmlld3MiLCJhY3RpdmVDaGF0UG9zdElkIiwic2V0QWN0aXZlQ2hhdFBvc3RJZCIsImNsb3NpbmdDaGF0SWQiLCJzZXRDbG9zaW5nQ2hhdElkIiwiY2hhdENvdW50cyIsInNldENoYXRDb3VudHMiLCJpc0xvYWRpbmdNb3JlIiwic2V0SXNMb2FkaW5nTW9yZSIsImhhc01vcmUiLCJzZXRIYXNNb3JlIiwicmV0cnlDb3VudCIsInNldFJldHJ5Q291bnQiLCJwcm9maWxlUGFuZU9wZW4iLCJzZXRQcm9maWxlUGFuZU9wZW4iLCJzZWFyY2giLCJzZXRTZWFyY2giLCJzZWFyY2hSZXN1bHRzIiwic2V0U2VhcmNoUmVzdWx0cyIsInNlYXJjaEZvY3VzZWQiLCJzZXRTZWFyY2hGb2N1c2VkIiwiaGFzaHRhZyIsInNldEhhc2h0YWciLCJoYXNodGFnUmVzdWx0cyIsInNldEhhc2h0YWdSZXN1bHRzIiwiZmlsdGVyVGFnIiwic2V0RmlsdGVyVGFnIiwic2hvd0ZpbHRlciIsInNldFNob3dGaWx0ZXIiLCJzaG93RnVsbFByb2ZpbGUiLCJzZXRTaG93RnVsbFByb2ZpbGUiLCJzZWFyY2hUaW1lb3V0Iiwib2JzZXJ2ZXJSZWYiLCJsYXN0UG9zdFJlZiIsImdsb2JhbFBvc3RDb3VudCIsInVzZUdsb2JhbE5vc3RyUG9zdENvdW50IiwibGlrZUNvdW50cyIsInNldExpa2VDb3VudHMiLCJsaWtlZFBvc3RzIiwic2V0TGlrZWRQb3N0cyIsInJlcG9zdENvdW50cyIsInNldFJlcG9zdENvdW50cyIsInJlcG9zdGVkUG9zdHMiLCJzZXRSZXBvc3RlZFBvc3RzIiwibGlnaHRib3hNZWRpYSIsInNldExpZ2h0Ym94TWVkaWEiLCJzdGF0cyIsInNldFN0YXRzIiwibG9hZGluZ1N0YXRzIiwic2V0TG9hZGluZ1N0YXRzIiwiYWN0aXZlUGFuZSIsInNldEFjdGl2ZVBhbmUiLCJzaWRlUGFuZUNvbXBvbmVudCIsInNldFNpZGVQYW5lQ29tcG9uZW50IiwicHJvZmlsZVBhbmVQdWJrZXkiLCJzZXRQcm9maWxlUGFuZVB1YmtleSIsImhhbmRsZU5hdiIsImtleSIsImFsZXJ0IiwiaDIiLCJvblN1Ym1pdCIsImlzTG9nZ2VkSW4iLCJvbkxvZ2luIiwiYWxsUHJvZmlsZXMiLCJzZWVuIiwiU2V0IiwiZXYiLCJwcm9maWxlIiwicCIsImhhcyIsImFkZCIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJ0cmltIiwic2V0VGltZW91dCIsInEiLCJ0b0xvd2VyQ2FzZSIsInJlc3VsdHMiLCJkaXNwbGF5X25hbWUiLCJpbmNsdWRlcyIsInVzZXJuYW1lIiwic2xpY2UiLCJzZWFyY2hSZWYiLCJoYW5kbGVDbGljayIsImUiLCJjb250YWlucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVPYnNlcnZlciIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsIm9sZGVzdEV2ZW50IiwibGVuZ3RoIiwidW50aWwiLCJjcmVhdGVkX2F0IiwidGhlbiIsImhhc05ld0V2ZW50cyIsImNhdGNoIiwicHJldiIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImhhbmRsZUNoYXRDbG9zZSIsInBvc3RJZCIsIm9sZGVzdCIsImxpbWl0IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJhbGxMaW5rcyIsIkFycmF5IiwiZnJvbSIsImZsYXRNYXAiLCJtZWRpYSIsImZvckVhY2giLCJleHRyYWN0SGFzaHRhZ3MiLCJldmVudCIsImNvbnRlbnRUYWdzIiwiaCIsInJlcGxhY2UiLCJ0YWdUYWdzIiwidGFncyIsInQiLCJ0ZXN0IiwiZXZlbnRIYXNodGFnc1JlZiIsImV2ZW50SGFzaHRhZ3MiLCJpZCIsInNlYXJjaEhhc2h0YWciLCJ0YWciLCJraW5kcyIsInBvc3RzIiwicmVuZGVySGFzaHRhZ3MiLCJidXR0b24iLCJvbkNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiZmlsdGVyZWRFdmVudHMiLCJ0YWdNYXRjaCIsInRhZ0FycmF5IiwidHJlbmRpbmdIYXNodGFncyIsInRhZ0NvdW50cyIsIk9iamVjdCIsInNvcnQiLCJiIiwiaXNNb3VudGVkIiwicG9zdElkcyIsImxpa2VFdmVudHMiLCJjb3VudHMiLCJsaWtlZCIsInJlZklkIiwiZmluZCIsImhhbmRsZUxpa2UiLCJwb3N0UHVia2V5Iiwid2luZG93Iiwibm9zdHIiLCJraW5kIiwic2lnIiwic2lnbmVkIiwic2lnbkV2ZW50IiwiZXJyIiwibWF4IiwicmVwb3N0RXZlbnRzIiwicmVwb3N0ZWQiLCJoYW5kbGVSZXBvc3QiLCJwb3N0Q29udGVudCIsInJlbmRlck1lZGlhV2l0aFByZXZpZXciLCJpbWFnZXMiLCJ5b3VUdWJlUmVnZXgiLCJzb3VuZENsb3VkUmVnZXgiLCJ2aWRlb3MiLCJhdWRpb3MiLCJtZWRpYVNldCIsImxpbmtzIiwiaWR4Iiwic3BhbiIsIlByb2ZpbGVEcm9wZG93biIsImNoaWxkcmVuIiwibWVudSIsIm9wZW4iLCJzZXRPcGVuIiwicmVmIiwidiIsInRvdGFsQ291bnQiLCJzZXRUb3RhbENvdW50IiwiZmV0Y2hDb3VudCIsInJlc3VsdCIsInVuaXF1ZUlkcyIsInNpemUiLCJvcGVuUHJvZmlsZVBhbmUiLCJjb21wb25lbnQiLCJ1c2VyT3ZlcnJpZGUiLCJvbkNsb3NlIiwiaGVhbHRoeVJlbGF5Q291bnQiLCJzZXRIZWFsdGh5UmVsYXlDb3VudCIsImNoZWNraW5nUmVsYXlzIiwic2V0Q2hlY2tpbmdSZWxheXMiLCJtb3VudGVkIiwiY2hlY2tSZWxheXMiLCJhc2lkZSIsIm9uTmF2IiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsIm9uRm9jdXMiLCJwbGFjZWhvbGRlciIsImF1dG9Db21wbGV0ZSIsImhlYWRlciIsInRvTG9jYWxlU3RyaW5nIiwiZGlzYWJsZWQiLCJtYWluIiwibWVzc2FnZSIsIm9uUmV0cnkiLCJvbkNsZWFyUmVsYXlzIiwiaW5kZXgiLCJwaWN0dXJlIiwidGFiSW5kZXgiLCJhcmlhLWxhYmVsIiwibmFtZSIsImlzQW5pbWF0aW5nIiwic2VjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/feed/CreatePost.tsx":
/*!********************************************!*\
  !*** ./src/components/feed/CreatePost.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreatePost: () => (/* binding */ CreatePost)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nfunction CreatePost(param) {\n    let { onSubmit, isLoggedIn, onLogin } = param;\n    _s();\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!content.trim()) return;\n        await onSubmit(content);\n        setContent('');\n    };\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-900/40 backdrop-blur-md rounded-xl border border-white/10 p-6 text-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onLogin,\n                className: \"px-6 py-2 rounded-full bg-blue-500/90 text-white font-medium hover:bg-blue-500 shadow-lg shadow-blue-500/20 transition\",\n                children: \"Connect with NOSTR to Post\"\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n                lineNumber: 22,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n            lineNumber: 21,\n            columnNumber: 13\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"bg-gray-900/40 backdrop-blur-md rounded-xl border border-white/10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                className: \"w-full px-4 py-3 rounded-xl bg-white/5 text-white border border-white/10 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/30 placeholder-gray-500 min-h-[100px] resize-none\",\n                placeholder: \"What's happening?\",\n                value: content,\n                onChange: (e)=>setContent(e.target.value)\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n                lineNumber: 34,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 flex justify-end\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"submit\",\n                    disabled: !content.trim(),\n                    className: \"px-6 py-2 rounded-full bg-blue-500/90 text-white font-medium hover:bg-blue-500 focus:ring-2 focus:ring-blue-500/50 focus:outline-none shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:hover:bg-blue-500/90 backdrop-blur-sm transition\",\n                    children: \"Post\"\n                }, void 0, false, {\n                    fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n                    lineNumber: 41,\n                    columnNumber: 17\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n                lineNumber: 40,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/scarnes/workspace/src/components/feed/CreatePost.tsx\",\n        lineNumber: 33,\n        columnNumber: 9\n    }, this);\n}\n_s(CreatePost, \"7qMZGOaOfwYbu+hEA/2Jy8mHHnE=\");\n_c = CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2ZlZWQvQ3JlYXRlUG9zdC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlDO0FBUTFCLFNBQVNDLFdBQVcsS0FBa0Q7UUFBbEQsRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBbUIsR0FBbEQ7O0lBQ3ZCLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHTiwrQ0FBUUEsQ0FBQztJQUV2QyxNQUFNTyxlQUFlLE9BQU9DO1FBQ3hCQSxFQUFFQyxjQUFjO1FBQ2hCLElBQUksQ0FBQ0osUUFBUUssSUFBSSxJQUFJO1FBQ3JCLE1BQU1SLFNBQVNHO1FBQ2ZDLFdBQVc7SUFDZjtJQUVBLElBQUksQ0FBQ0gsWUFBWTtRQUNiLHFCQUNJLDhEQUFDUTtZQUFJQyxXQUFVO3NCQUNYLDRFQUFDQztnQkFDR0MsU0FBU1Y7Z0JBQ1RRLFdBQVU7MEJBQ2I7Ozs7Ozs7Ozs7O0lBS2I7SUFFQSxxQkFDSSw4REFBQ0c7UUFBS2IsVUFBVUs7UUFBY0ssV0FBVTs7MEJBQ3BDLDhEQUFDSTtnQkFDR0osV0FBVTtnQkFDVkssYUFBWTtnQkFDWkMsT0FBT2I7Z0JBQ1BjLFVBQVVYLENBQUFBLElBQUtGLFdBQVdFLEVBQUVZLE1BQU0sQ0FBQ0YsS0FBSzs7Ozs7OzBCQUU1Qyw4REFBQ1A7Z0JBQUlDLFdBQVU7MEJBQ1gsNEVBQUNDO29CQUNHUSxNQUFLO29CQUNMQyxVQUFVLENBQUNqQixRQUFRSyxJQUFJO29CQUN2QkUsV0FBVTs4QkFDYjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNakI7R0ExQ2dCWDtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3NjYXJuZXMvd29ya3NwYWNlL3NyYy9jb21wb25lbnRzL2ZlZWQvQ3JlYXRlUG9zdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBDcmVhdGVQb3N0UHJvcHMge1xuICAgIG9uU3VibWl0OiAoY29udGVudDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAgIGlzTG9nZ2VkSW46IGJvb2xlYW47XG4gICAgb25Mb2dpbjogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVBvc3QoeyBvblN1Ym1pdCwgaXNMb2dnZWRJbiwgb25Mb2dpbiB9OiBDcmVhdGVQb3N0UHJvcHMpIHtcbiAgICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFjb250ZW50LnRyaW0oKSkgcmV0dXJuO1xuICAgICAgICBhd2FpdCBvblN1Ym1pdChjb250ZW50KTtcbiAgICAgICAgc2V0Q29udGVudCgnJyk7XG4gICAgfTtcblxuICAgIGlmICghaXNMb2dnZWRJbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMC80MCBiYWNrZHJvcC1ibHVyLW1kIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBwLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uTG9naW59XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTYgcHktMiByb3VuZGVkLWZ1bGwgYmctYmx1ZS01MDAvOTAgdGV4dC13aGl0ZSBmb250LW1lZGl1bSBob3ZlcjpiZy1ibHVlLTUwMCBzaGFkb3ctbGcgc2hhZG93LWJsdWUtNTAwLzIwIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ29ubmVjdCB3aXRoIE5PU1RSIHRvIFBvc3RcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwLzQwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHAtNlwiPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyByb3VuZGVkLXhsIGJnLXdoaXRlLzUgdGV4dC13aGl0ZSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMC8zMCBmb2N1czpib3JkZXItYmx1ZS01MDAvMzAgcGxhY2Vob2xkZXItZ3JheS01MDAgbWluLWgtWzEwMHB4XSByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXaGF0J3MgaGFwcGVuaW5nP1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2NvbnRlbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0Q29udGVudChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWNvbnRlbnQudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTIgcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAwLzkwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gaG92ZXI6YmctYmx1ZS01MDAgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAvNTAgZm9jdXM6b3V0bGluZS1ub25lIHNoYWRvdy1sZyBzaGFkb3ctYmx1ZS01MDAvMjAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpob3ZlcjpiZy1ibHVlLTUwMC85MCBiYWNrZHJvcC1ibHVyLXNtIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUG9zdFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiQ3JlYXRlUG9zdCIsIm9uU3VibWl0IiwiaXNMb2dnZWRJbiIsIm9uTG9naW4iLCJjb250ZW50Iiwic2V0Q29udGVudCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwiZm9ybSIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwidHlwZSIsImRpc2FibGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/feed/CreatePost.tsx\n"));

/***/ })

});